(function(){"use strict";var e={5336:function(e,a,l){var t=l(5130),o=l(6768),i=l(249),d=l(8332),n=l(554),r=l(2729),c=l(697),s=l(1720),u=l(2598),m=l(2164),h=l(4718),k=l(4529),b=l(8477),p=l(373),v=l(8050);function _(e,a,l,_,f,g){const F=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(u.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(i.z,{color:"#045c84",prominent:""},{default:(0,o.k6)((()=>[(0,o.bF)(d.Z,{variant:"text",onClick:a[0]||(a[0]=(0,t.D$)((a=>e.drawer=!e.drawer),["stop"]))}),(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("Sistema AG Aviation Suppliers")])),_:1}),(0,o.bF)(s.h),e.$vuetify.display.mdAndUp?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(n.D,{icon:"mdi-magnify",variant:"text"}),(0,o.bF)(n.D,{icon:"mdi-filter",variant:"text"})],64)):(0,o.Q3)("",!0),(0,o.bF)(n.D,{icon:"mdi-dots-vertical",variant:"text"})])),_:1}),(0,o.bF)(p.e,{width:350,modelValue:e.drawer,"onUpdate:modelValue":a[2]||(a[2]=a=>e.drawer=a),location:e.$vuetify.display.mobile?"bottom":void 0,temporary:""},{default:(0,o.k6)((()=>[(0,o.bF)(m.x8,{opened:e.open,"onUpdate:opened":a[1]||(a[1]=a=>e.open=a)},{default:(0,o.k6)((()=>[(0,o.bF)(h.g,{"prepend-icon":"mdi-home",title:"Menú de Opciones"}),(0,o.bF)(k.K,{value:"Almacen"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(h.g,(0,o.v6)(e,{"prepend-icon":"mdi-warehouse",title:"Almacén"}),null,16)])),default:(0,o.k6)((()=>[(0,o.bF)(k.K,{value:"Catalogos"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(h.g,(0,o.v6)(e,{"prepend-icon":"mdi-folder-text-outline",title:"Catalogos"}),null,16)])),default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.almacenes,(([e,a,l],t)=>((0,o.uX)(),(0,o.Wv)(h.g,{key:t,"prepend-icon":a,title:e,value:e,route:"",to:l},null,8,["prepend-icon","title","value","to"])))),128))])),_:1}),(0,o.bF)(k.K,{value:"Compras"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(h.g,(0,o.v6)(e,{"prepend-icon":"mdi-dolly",title:"Compras"}),null,16)])),default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.adquisiciones,(([e,a,l],t)=>((0,o.uX)(),(0,o.Wv)(h.g,{key:t,"prepend-icon":a,title:e,value:e,route:"",to:l},null,8,["prepend-icon","title","value","to"])))),128))])),_:1}),(0,o.bF)(k.K,{value:"Salidas"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(h.g,(0,o.v6)(e,{"prepend-icon":"mdi-bank-transfer-out",title:"Salidas"}),null,16)])),default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.salidas,(([e,a,l],t)=>((0,o.uX)(),(0,o.Wv)(h.g,{key:t,"prepend-icon":a,title:e,value:e,route:"",to:l},null,8,["prepend-icon","title","value","to"])))),128))])),_:1})])),_:1}),(0,o.bF)(k.K,{value:"Orden Trabajo"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(h.g,(0,o.v6)(e,{"prepend-icon":"mdi-airplane",title:"Orden Trabajo"}),null,16)])),default:(0,o.k6)((()=>[(0,o.bF)(k.K,{value:"_ot"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(h.g,(0,o.v6)(e,{"prepend-icon":"mdi-folder-text-outline",title:"Catalogos"}),null,16)])),default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.catalogos_ot,(([e,a,l],t)=>((0,o.uX)(),(0,o.Wv)(h.g,{key:t,"prepend-icon":a,title:e,value:e,route:"",to:l},null,8,["prepend-icon","title","value","to"])))),128))])),_:1}),(0,o.bF)(k.K,{value:"Gestion OT"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(h.g,(0,o.v6)(e,{"prepend-icon":"mdi-dolly",title:"Gestion"}),null,16)])),default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.gestion_ot,(([e,a,l],t)=>((0,o.uX)(),(0,o.Wv)(h.g,{key:t,"prepend-icon":a,title:e,value:e,route:"",to:l},null,8,["prepend-icon","title","value","to"])))),128))])),_:1})])),_:1})])),_:1},8,["opened"])])),_:1},8,["modelValue","location"]),(0,o.bF)(b.Y,null,{default:(0,o.k6)((()=>[(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(F)])),_:1})])),_:1})])),_:1})])),_:1})}var f={name:"App",data:()=>({drawer:!1,group:null,open:["Almacen"],almacenes:[["Almacenes","mdi-warehouse","almacenes"],["Ubicaciones","mdi-warehouse","ubicaciones"],["Unidad de Medidas","mdi-unity","unidadMedidas"],["Categorías","mdi-group","categorias"],["Proveedores","mdi-truck-delivery","proveedores"],["Artículos","mdi-cart","articulos"]],adquisiciones:[["Entradas","mdi-import","compras"]],salidas:[["Salidas OT","mdi-export","ventas"]],admins:[["Categorias","mdi-account-multiple-outline"],["Settings","mdi-cog-outline"]],catalogos_ot:[["Modelo","mdi-warehouse","Ot_modelo"],["Aeronave","mdi-warehouse","Ot_aeronave"],["Programada","mdi-unity","Ot_programada"],["Cliente","mdi-group","Ot_cliente"]],gestion_ot:[["Caratula OT","mdi-warehouse","Ot_encabezado_ot"]]}),watch:{group(){this.drawer=!1}}},g=l(1241);const F=(0,g.A)(f,[["render",_]]);var C=F,V=(l(5524),l(8813)),y=l(712),A=l(7768),D=(0,A.$N)({components:{VDateInput:V.B,VNumberInput:y.w}});async function W(){const e=await l.e(53).then(l.t.bind(l,8874,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}var x=l(1387),I=l(4232),M=l(1606),w=l(3745),U=l(8995),L=l(4005),E=l(1772),O=l(7511),R=l(3813),N=l(6756),S=l(5526),X=l(9669),B=l(3948),z=l(4366);const T={class:"text-h5"},K=["textContent"],j={key:0},P={key:1};function Q(e,a,l,i,d,u){return(0,o.uX)(),(0,o.Wv)(L.Py,{headers:e.headers,items:e.categorias,search:e.search,"sort-by":[{key:"calories",order:"asc"}]},{top:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("Categorías")])),_:1}),(0,o.bF)(O.G,{class:"mx-2",inset:"",vertical:""}),(0,o.bF)(s.h),(0,o.bF)(B.W,{class:"text-xs-center",modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},null,8,["modelValue"]),(0,o.bF)(s.h),(0,o.bF)(E.p,{modelValue:e.dialog,"onUpdate:modelValue":a[3]||(a[3]=a=>e.dialog=a),"max-width":"500px"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(n.D,(0,o.v6)({class:"mb-2",color:"primary",dark:""},e),{default:(0,o.k6)((()=>[(0,o.eW)(" Nueva Categoría ")])),_:2},1040)])),default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",T,(0,I.v_)(u.formTitle),1)])),_:1}),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(R.I,null,{default:(0,o.k6)((()=>[(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.nombre,"onUpdate:modelValue":a[1]||(a[1]=a=>e.nombre=a),counter:30,rules:e.nameRules,required:"",label:"Nombre"},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.descripcion,"onUpdate:modelValue":a[2]||(a[2]=a=>e.descripcion=a),label:"Descripcion"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.validaMensaje,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"text-red",key:e,textContent:(0,I.v_)(e)},null,8,K)))),128))])),_:1},512),[[t.aG,e.valida]])])),_:1})])),_:1})])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.guardar},{default:(0,o.k6)((()=>[(0,o.eW)(" Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.adModal,"onUpdate:modelValue":a[4]||(a[4]=a=>e.adModal=a),elavation:"2","max-width":"290px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[1==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:0,class:"haedline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Activar Item?")])),_:1})):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:1,class:"headline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Desactivar Item?")])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Estas apunto de "),2==e.adAccion?((0,o.uX)(),(0,o.CE)("span",j,"Desactivar ")):(0,o.Q3)("",!0),1==e.adAccion?((0,o.uX)(),(0,o.CE)("span",P,"Activar ")):(0,o.Q3)("",!0),(0,o.eW)(" el item "+(0,I.v_)(e.adNombre),1)])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"green darken-1",flat:"flat",onClick:u.activarDesactivarCerrar},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),1==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:0,color:"orange darken-4",flat:"flat",onClick:u.activar},{default:(0,o.k6)((()=>[(0,o.eW)(" Activar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:1,color:"orange darken-4",flat:"flat",onClick:u.desactivar},{default:(0,o.k6)((()=>[(0,o.eW)(" Desactivar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":a[5]||(a[5]=a=>e.dialogDelete=a),"max-width":"500px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Are you sure you want to delete this item?")])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.closeDelete},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.deleteItemConfirm},{default:(0,o.k6)((()=>[(0,o.eW)("OK")])),_:1},8,["onClick"]),(0,o.bF)(s.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,o.k6)((({item:e})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:a=>u.editItem(e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),e.condicion?((0,o.uX)(),(0,o.Wv)(X.w,{key:0,size:"small",onClick:a=>u.activarDesactivarMostrar(2,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-block-helper ")])),_:2},1032,["onClick"])):((0,o.uX)(),(0,o.Wv)(X.w,{key:1,size:"small",onClick:a=>u.activarDesactivarMostrar(1,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-check ")])),_:2},1032,["onClick"]))])),["item.condicion"]:(0,o.k6)((({value:e})=>[(0,o.bF)(U.x,{color:u.getColor(e)},{default:(0,o.k6)((()=>[(0,o.eW)((0,I.v_)(u.getEtiqueta(e)),1)])),_:2},1032,["color"])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:u.initialize},{default:(0,o.k6)((()=>[(0,o.eW)(" Resetear ")])),_:1},8,["onClick"])])),_:2},1032,["headers","items","search"])}var J=l(4373),q={data:()=>({dialog:!1,dialogDelete:!1,headers:[{title:"Opciones",value:"actions",key:"actions",sortable:!1},{title:"ID Categoria",value:"idcategoria",key:"idcategoria"},{title:"Nombre",value:"nombre",key:"nombre"},{title:"Descripcion",value:"descripcion",key:"descripcion",sortable:!1},{title:"Estado",value:"condicion",key:"condicion"}],categorias:[],search:"",editedIndex:-1,idcategoria:"",nombre:"",descripcion:"",nameRules:[e=>!!e||"El campo nombre es Requerido",e=>e&&e.length>=3&&e.length<=30||"El *Nombre* debe tener más de 3 caracteres y menos de 30 caracteres"],adModal:!1,validaMensaje:[],adAccion:0,adNombre:"",adId:""}),computed:{formTitle(){return-1===this.editedIndex?"Nueva Categoría":"Actualizar Categoría"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize(),this.listar()},methods:{listar(){let e=this;J.A.get("api/Categorias/Listar").then((function(a){e.categorias=a.data})).catch((function(e){console.log(e)}))},initialize(){this.categorias=[]},editItem(e){this.idcategoria=e.idcategoria,this.nombre=e.nombre,this.descripcion=e.descripcion,this.editedIndex=1,this.dialog=!0},deleteItem(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.desserts.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.limpiar()},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},limpiar(){this.idcategoria="",this.nombre="",this.descripcion="",this.editedIndex=-1},guardar(){if(this.editedIndex>-1){let e=this;J.A.put("api/Categorias/Actualizar",{idcategoria:e.idcategoria,nombre:e.nombre,descripcion:e.descripcion}).then((function(a){e.close(),e.listar(),e.limpiar(),console.log(a)})).catch((function(e){console.log(e)}))}else{let e=this;J.A.post("api/Categorias/Crear",{nombre:e.nombre,descripcion:e.descripcion}).then((function(a){e.close(),e.listar(),e.limpiar(),console.log(a)})).catch((function(e){console.log(e)}))}},activarDesactivarMostrar(e,a){this.adModal=1,this.adNombre=a.nombre,this.adId=a.idcategoria,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=!1},activarDesactivarCerrar(){this.adModal=!1},activar(){let e=this;J.A.put("api/Categorias/Activar/"+this.adId,{}).then((function(a){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar(),console.log(a)})).catch((function(e){console.log(e)}))},desactivar(){let e=this;J.A.put("api/Categorias/Desactivar/"+this.adId,{}).then((function(a){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar(),console.log(a)})).catch((function(e){console.log(e)}))},getColor(e){return 1==e?"green":"red"},getEtiqueta(e){return 1==e?"Activo":"Inactivo"}}};const G=(0,g.A)(q,[["render",Q]]);var $=G,H=l(105),Y=l(3740);const Z={class:"text-h5"},ee=["textContent"],ae={key:0},le={key:1};function te(e,a,l,i,d,u){return(0,o.uX)(),(0,o.Wv)(L.Py,{headers:e.headers,items:e.articulos,search:e.search,"sort-by":[{key:"calories",order:"asc"}]},{top:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("Listado de Articulos")])),_:1}),(0,o.bF)(O.G,{class:"mx-2",inset:"",vertical:""}),(0,o.bF)(s.h),(0,o.bF)(B.W,{class:"text-xs-center",modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},null,8,["modelValue"]),(0,o.bF)(s.h),(0,o.bF)(E.p,{modelValue:e.dialog,"onUpdate:modelValue":a[14]||(a[14]=a=>e.dialog=a),"max-width":"1200px"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(n.D,(0,o.v6)({class:"mb-2",color:"primary",dark:""},e),{default:(0,o.k6)((()=>[(0,o.eW)(" Nuevo ")])),_:2},1040)])),default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",Z,(0,I.v_)(u.formTitle),1)])),_:1}),(0,o.bF)(O.G,{thickness:2}),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(R.I,null,{default:(0,o.k6)((()=>[(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"4",sm:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.codigo,"onUpdate:modelValue":a[1]||(a[1]=a=>e.codigo=a),label:"Código"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"12",md:"4",sm:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.numero_serie,"onUpdate:modelValue":a[2]||(a[2]=a=>e.numero_serie=a),label:"Numero de Serie"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"12",md:"4",sm:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:e.idcategoria,"onUpdate:modelValue":a[3]||(a[3]=a=>e.idcategoria=a),items:e.categorias,rules:[e=>!!e||"Seleccione una Categoria"],label:"Categorias",required:""},null,8,["modelValue","items","rules"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"6",md:"3",sm:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:e.idum,"onUpdate:modelValue":a[4]||(a[4]=a=>e.idum=a),items:e.unidadMedidas,rules:[e=>!!e||"Seleccione una U/M"],label:"U/M",rfequired:""},null,8,["modelValue","items","rules"])])),_:1}),(0,o.bF)(S.B,{cols:"6",md:"3",sm:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:e.idalmacen,"onUpdate:modelValue":a[5]||(a[5]=a=>e.idalmacen=a),items:e.almacenes,rules:[e=>!!e||"Seleccione un Almacen"],label:"Almacen",required:""},null,8,["modelValue","items","rules"])])),_:1}),(0,o.bF)(S.B,{cols:"6",md:"3",sm:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:e.idubicacion,"onUpdate:modelValue":a[6]||(a[6]=a=>e.idubicacion=a),items:e.ubicaciones,rules:[e=>!!e||"Seleccione una Ubicación"],label:"Ubicacion",required:""},null,8,["modelValue","items","rules"])])),_:1}),(0,o.bF)(S.B,{cols:"6",md:"3",sm:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.localizacion,"onUpdate:modelValue":a[7]||(a[7]=a=>e.localizacion=a),label:"Localizcion"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{md:"3",sm:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{type:"number",modelValue:e.stock,"onUpdate:modelValue":a[8]||(a[8]=a=>e.stock=a),label:"Stock"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{md:"3",sm:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.precio_venta,"onUpdate:modelValue":a[9]||(a[9]=a=>e.precio_venta=a),label:"Precio de Venta"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{md:"3",sm:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.maximo,"onUpdate:modelValue":a[10]||(a[10]=a=>e.maximo=a),label:"Máximo"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{md:"3",sm:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.minimo,"onUpdate:modelValue":a[11]||(a[11]=a=>e.minimo=a),label:"Mínimo"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"4",sm:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:e.idproveedor,"onUpdate:modelValue":a[12]||(a[12]=a=>e.idproveedor=a),items:e.proveedores,rules:[e=>!!e||"Seleccione un Proveedor"],label:"Proveedores",required:""},null,8,["modelValue","items","rules"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(Y.J,{modelValue:e.descripcion,"onUpdate:modelValue":a[13]||(a[13]=a=>e.descripcion=a),rows:"2","auto-grow":"",label:"Descripcion"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.validaMensaje,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"text-red",key:e,textContent:(0,I.v_)(e)},null,8,ee)))),128))])),_:1},512),[[t.aG,e.valida]])])),_:1})])),_:1})])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.guardar},{default:(0,o.k6)((()=>[(0,o.eW)(" Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.adModal,"onUpdate:modelValue":a[15]||(a[15]=a=>e.adModal=a),elavation:"2","max-width":"290px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[1==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:0,class:"haedline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Activar Item?")])),_:1})):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:1,class:"headline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Desactivar Item?")])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Estas apunto de "),1==e.adAccion?((0,o.uX)(),(0,o.CE)("span",ae,"Activar ")):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.CE)("span",le,"Desactivar ")):(0,o.Q3)("",!0),(0,o.eW)(" el item "+(0,I.v_)(e.adNombre),1)])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"green darken-1",flat:"flat",onClick:u.activarDesactivarCerrar},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),1==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:0,color:"orange darken-4",flat:"flat",onClick:u.activar},{default:(0,o.k6)((()=>[(0,o.eW)(" Activar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:1,color:"orange darken-4",flat:"flat",onClick:u.desactivar},{default:(0,o.k6)((()=>[(0,o.eW)(" Desactivar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":a[16]||(a[16]=a=>e.dialogDelete=a),"max-width":"500px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Are you sure you want to delete this item?")])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.closeDelete},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.deleteItemConfirm},{default:(0,o.k6)((()=>[(0,o.eW)("OK")])),_:1},8,["onClick"]),(0,o.bF)(s.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.acciones"]:(0,o.k6)((({item:e})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:a=>u.editItem(e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),e.condicion?((0,o.uX)(),(0,o.Wv)(X.w,{key:0,size:"small",onClick:a=>u.activarDesactivarMostrar(2,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-block-helper ")])),_:2},1032,["onClick"])):((0,o.uX)(),(0,o.Wv)(X.w,{key:1,size:"small",onClick:a=>u.activarDesactivarMostrar(1,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-check ")])),_:2},1032,["onClick"]))])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:u.initialize},{default:(0,o.k6)((()=>[(0,o.eW)(" Resetear ")])),_:1},8,["onClick"])])),_:2},1032,["headers","items","search"])}l(4114);var oe={data:()=>({dialog:!1,dialogDelete:!1,headers:[{title:"Codigo",value:"codigo",key:"codigo"},{title:"Numero Serie",value:"numero_serie",key:"numero_serie"},{title:"Categoria",value:"categoria",key:"categoria"},{title:"Unidad Medida:",value:"unidadMedida",key:"unidadMedida"},{title:"Almacen",value:"almacen",key:"almacen"},{title:"Ubicacion",value:"ubicacion",key:"ubicacion"},{title:"Localización",value:"localizacion",key:"localizacion"},{title:"Proveedor",value:"proveedor",key:"proveedor"},{title:"Precio Venta",value:"precio_venta",key:"precio_venta"},{title:"Stock",value:"stock",key:"stock"},{title:"Máximo",value:"maximo",key:"maximo"},{title:"Mínimo",value:"minimo",key:"minimo"}],articulos:[],search:"",desserts:[],editedIndex:-1,idarticulo:"",idcategoria:"",idum:"",idalmacen:"",idproveedor:"",idubicacion:"",codigo:"",numero_serie:"",precio_venta:"",localizacion:"",stock:0,cantidad:0,descripcion:"",entrada:0,salida:0,categorias:[],unidadMedidas:[],almacenes:[],proveedores:[],ubicaciones:[],valida:0,validaMensaje:[],adModal:!1,adAccion:0,adNombre:"",adId:""}),computed:{formTitle(){return-1===this.editedIndex?"Nuevo Articulo":"Actualizar Articulo"},formatoFecha(e){if(!e)return null;const[a,l]=e.split("T"),[t,o,i]=a.split("-");return console.log(l),`${t}/${o}/${i}`}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize(),this.listar(),this.selectAlmacenes(),this.selectCategoria(),this.selectUnidadMedida(),this.selectProveedores(),this.selectUbicaciones(),this.formattedDate()},methods:{formattedDate(){if(!this.ultima_entrada)return null;const[e,a]=this.ultima_entrada.split("T"),[l,t,o]=e.split("-");return console.log(a),`${l}/${t}/${o}`},listar(){let e=this;J.A.get("api/articulos/Listar").then((function(a){console.log(a.data),e.articulos=a.data})).catch((function(e){console.log(e)}))},initialize(){this.articulos=[]},selectAlmacenes(){let e=this;var a=[];J.A.get("api/Almacenes/Select").then((function(l){a=l.data,a.map((function(a){e.almacenes.push({title:a.nombre,value:a.idalmacen})}))})).catch((function(e){console.log(e)}))},selectProveedores(){let e=this;var a=[];J.A.get("api/Proveedores/Select").then((function(l){a=l.data,a.map((function(a){e.proveedores.push({title:a.nombre,value:a.idproveedor})}))})).catch((function(e){console.log(e)}))},selectCategoria(){let e=this;var a=[];J.A.get("api/Categorias/Select").then((function(l){a=l.data,a.map((function(a){e.categorias.push({title:a.nombre,value:a.idcategoria})}))})).catch((function(e){console.log(e)}))},selectUbicaciones(){let e=this;var a=[];J.A.get("api/Ubicaciones/Select").then((function(l){a=l.data,a.map((function(a){e.ubicaciones.push({title:a.nombre,value:a.idubicacion})}))})).catch((function(e){console.log(e)}))},selectUnidadMedida(){let e=this;var a=[];J.A.get("api/UnidadMedidas/Select").then((function(l){a=l.data,a.map((function(a){e.unidadMedidas.push({title:a.descripcion,value:a.idum})}))})).catch((function(e){console.log(e)}))},editItem(e){this.idarticulo=e.idarticulo,this.idalmacen=e.idalmacen,this.idcategoria=e.idcategoria,this.idum=e.idum,this.idproveedor=e.idproveedor,this.idubicacion=e.idubicacion,this.codigo=e.codigo,this.numero_serie=e.numero_serie,this.descripcion=e.descripcion,this.localizacion=e.localizacion,this.precio_venta=e.precio_venta,this.cantidad=e.cantidad,this.stock=e.stock,this.maximo=e.maximo,this.minimo=e.minimo,this.ultima_entrada=e.ultima_entrada,this.ultima_salida=e.ultima_salida,this.editedIndex=1,this.dialog=!0},deleteItem(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.desserts.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.limpiar()},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},limpiar(){this.idcategoria="",this.idalmacen="",this.idum="",this.idproveedor="",this.idubicacion="",this.codigo="",this.numero_serie="",this.precio_venta="",this.idubicacion="",this.localizacion="",this.stock="",this.cantidad="",this.descripcion="",this.maximo="",this.minimo="",this.ultima_entrada="",this.ultima_salida="",this.editedIndex=-1},guardar(){if(this.editedIndex>-1){let e=this;J.A.put("api/Articulos/Actualizar",{idarticulo:e.idarticulo,idcategoria:e.idcategoria,idalmacen:e.idalmacen,idum:e.idum,idproveedor:e.idproveedor,idubicacion:e.idubicacion,codigo:e.codigo,numero_serie:e.numero_serie,precio_venta:e.precio_venta,localizacion:e.localizacion,stock:e.stock,maximo:e.maximo,minimo:e.minimo,descripcion:e.descripcion,ultima_entrada:e.ultima_entrada,ultima_salida:e.ultima_salida}).then((function(a){e.close(),e.listar(),e.limpiar(),console.log(a)})).catch((function(e){console.log(e)}))}else{let e=this;J.A.post("api/Articulos/Crear",{idcategoria:e.idcategoria,idalmacen:e.idalmacen,idum:e.idum,idproveedor:e.idproveedor,idubicacion:e.idubicacion,codigo:e.codigo,numero_serie:e.numero_serie,precio_venta:e.precio_venta,localizacion:e.localizacion,stock:e.stock,maximo:e.maximo,minimo:e.minimo,descripcion:e.descripcion,ultima_entrada:e.ultima_entrada,ultima_salida:e.ultima_salida}).then((function(a){e.close(),e.listar(),e.limpiar(),console.log(a)})).catch((function(e){console.log(e)}))}},validar(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El *Nombre* debe tener más de 3 caracteres y menos de 50 caracteres"),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar(e,a){this.adModal=1,this.adNombre=a.nombre,this.adId=a.idcategoria,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=!1},activarDesactivarCerrar(){this.adModal=!1},activar(){let e=this;J.A.put("api/Articulos/Activar/"+this.adId,{}).then((function(a){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar(),console.log(a)})).catch((function(e){console.log(e)}))},desactivar(){let e=this;J.A.put("api/Articulos/Desactivar/"+this.adId,{}).then((function(a){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar(),console.log(a)})).catch((function(e){console.log(e)}))}}};const ie=(0,g.A)(oe,[["render",te]]);var de=ie,ne=l(5126);const re=(0,o.Lk)("h1",{class:"display-2 font-weight-bold mb-3"}," SISTEMA DE CONTROL AG AVIATION SUPPLIERS ",-1),ce=(0,o.Lk)("p",{class:"subheading font-weight-regular"}," EL SISTEMA DE CONTROL AG AVIATION SUPPLIERS TIENE DERECHOS RESERVADOS 2024. ",-1),se=(0,o.Lk)("h2",{class:"headline font-weight-bold mb-5"},null,-1);function ue(e,a,t,i,d,n){return(0,o.uX)(),(0,o.Wv)(R.I,null,{default:(0,o.k6)((()=>[(0,o.bF)(N.L,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(ne.y,{src:l(3153),class:"my-3",contain:"",height:"200"},null,8,["src"])])),_:1}),(0,o.bF)(S.B,{class:"mb-4"},{default:(0,o.k6)((()=>[re,ce])),_:1}),(0,o.bF)(S.B,{class:"mb-5",cols:"12"},{default:(0,o.k6)((()=>[se])),_:1})])),_:1})])),_:1})}var me={name:"HelloWorld",data:()=>({})};const he=(0,g.A)(me,[["render",ue]]);var ke=he;const be={class:"text-h5"},pe=["textContent"],ve={key:0},_e={key:1};function fe(e,a,l,i,d,u){return(0,o.uX)(),(0,o.Wv)(L.Py,{headers:e.headers,items:e.unidadMedidas,search:e.search,"sort-by":[{key:"calories",order:"asc"}]},{top:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("Maestro de Unidad de Medidas")])),_:1}),(0,o.bF)(O.G,{class:"mx-2",inset:"",vertical:""}),(0,o.bF)(s.h),(0,o.bF)(B.W,{class:"text-xs-center",modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},null,8,["modelValue"]),(0,o.bF)(s.h),(0,o.bF)(E.p,{modelValue:e.dialog,"onUpdate:modelValue":a[3]||(a[3]=a=>e.dialog=a),"max-width":"500px"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(n.D,(0,o.v6)({class:"mb-2",color:"primary",dark:""},e),{default:(0,o.k6)((()=>[(0,o.eW)(" Nueva Unidad de Medida ")])),_:2},1040)])),default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",be,(0,I.v_)(u.formTitle),1)])),_:1}),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(R.I,null,{default:(0,o.k6)((()=>[(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"6",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.codigo,"onUpdate:modelValue":a[1]||(a[1]=a=>e.codigo=a),counter:5,rules:e.nameRules,required:"",label:"Codigo"},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(Y.J,{modelValue:e.descripcion,"onUpdate:modelValue":a[2]||(a[2]=a=>e.descripcion=a),rows:"2",counter:256,required:"",label:"Descripcion"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.validaMensaje,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"text-red",key:e,textContent:(0,I.v_)(e)},null,8,pe)))),128))])),_:1},512),[[t.aG,e.valida]])])),_:1})])),_:1})])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.guardar},{default:(0,o.k6)((()=>[(0,o.eW)(" Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.adModal,"onUpdate:modelValue":a[4]||(a[4]=a=>e.adModal=a),elavation:"2","max-width":"290px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[1==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:0,class:"haedline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Activar Item?")])),_:1})):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:1,class:"headline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Desactivar Item?")])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Estas apunto de "),1==e.adAccion?((0,o.uX)(),(0,o.CE)("span",ve,"Activar ")):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.CE)("span",_e,"Desactivar ")):(0,o.Q3)("",!0),(0,o.eW)(" el item "+(0,I.v_)(e.adNombre),1)])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"green darken-1",flat:"flat",onClick:u.activarDesactivarCerrar},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),1==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:0,color:"orange darken-4",flat:"flat",onClick:u.activar},{default:(0,o.k6)((()=>[(0,o.eW)(" Activar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:1,color:"orange darken-4",flat:"flat",onClick:u.desactivar},{default:(0,o.k6)((()=>[(0,o.eW)(" Desactivar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":a[5]||(a[5]=a=>e.dialogDelete=a),"max-width":"500px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Are you sure you want to delete this item?")])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.closeDelete},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.deleteItemConfirm},{default:(0,o.k6)((()=>[(0,o.eW)("OK")])),_:1},8,["onClick"]),(0,o.bF)(s.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,o.k6)((({item:e})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:a=>u.editItem(e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),e.estatus?((0,o.uX)(),(0,o.Wv)(X.w,{key:0,size:"small",onClick:a=>u.activarDesactivarMostrar(2,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-block-helper ")])),_:2},1032,["onClick"])):((0,o.uX)(),(0,o.Wv)(X.w,{key:1,size:"small",onClick:a=>u.activarDesactivarMostrar(1,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-check ")])),_:2},1032,["onClick"]))])),["item.estatus"]:(0,o.k6)((({value:e})=>[(0,o.bF)(U.x,{color:u.getColor(e)},{default:(0,o.k6)((()=>[(0,o.eW)((0,I.v_)(u.getEtiqueta(e)),1)])),_:2},1032,["color"])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:u.initialize},{default:(0,o.k6)((()=>[(0,o.eW)(" Resetear ")])),_:1},8,["onClick"])])),_:2},1032,["headers","items","search"])}var ge={data:()=>({model:null,dialog:!1,dialogDelete:!1,headers:[{title:"Opciones",value:"actions",key:"actions",sortable:!1},{title:"ID U M",value:"idum",key:"idum"},{title:"Codigo",value:"codigo",key:"codigo"},{title:"Descripcion",value:"descripcion",key:"descripcion",sortable:!1},{title:"Estado",value:"estatus",key:"estatus"}],unidadMedidas:[],search:"",editedIndex:-1,idum:"",codigo:"",descripcion:"",f_alta:"",f_baja:"",nameRules:[e=>!!e||"El campo Codigo es Requerido",e=>e&&e.length>=3&&e.length<=5||"El *Codigo* debe tener más de 3 caracteres y menos de 5 caracteres"],valida:0,validaMensaje:[],adModal:!1,adAccion:0,adNombre:"",adId:""}),computed:{formTitle(){return-1===this.editedIndex?"Nueva Unidad de Medida":"Actualizar Unidad de Medida"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize(),this.listar()},methods:{listar(){let e=this;J.A.get("api/UnidadMedidas/Listar").then((function(a){e.unidadMedidas=a.data})).catch((function(e){console.log(e)}))},initialize(){this.unidadMedidas=[]},editItem(e){this.idum=e.idum,this.codigo=e.codigo,this.descripcion=e.descripcion,this.f_alta=e.f_alta,this.f_baja=e.f_baja,this.editedIndex=1,this.dialog=!0},deleteItem(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.desserts.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.limpiar()},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},limpiar(){this.idum="",this.codigo="",this.descripcion="",this.f_alta="",this.f_baja="",this.editedIndex=-1},guardar(){if(!this.validar())if(this.editedIndex>-1){let e=this;J.A.put("api/UnidadMedidas/Actualizar",{idum:e.idum,codigo:e.codigo,descripcion:e.descripcion,f_alta:e.f_alta,f_baja:e.f_baja}).then((function(a){e.close(),e.listar(),e.limpiar(),console.log(a)})).catch((function(e){console.log(e)}))}else{let e=this;J.A.post("api/UnidadMedidas/Crear",{codigo:e.codigo,descripcion:e.descripcion,estatus:!0}).then((function(a){e.close(),e.listar(),e.limpiar(),console.log(a)})).catch((function(e){console.log(e)}))}},validar(){return this.valida=0,this.validaMensaje=[],(this.codigo.length<3||this.codigo.length>50)&&this.validaMensaje.push("El *Nombre* debe tener más de 3 caracteres y menos de 50 caracteres"),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar(e,a){this.adModal=1,this.adNombre=a.codigo,this.adId=a.idum,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=!1},activarDesactivarCerrar(){this.adModal=!1},activar(){let e=this;J.A.put("api/UnidadMedidas/Activar/"+this.adId,{}).then((function(a){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar(),console.log(a)})).catch((function(e){console.log(e)}))},desactivar(){let e=this;J.A.put("api/UnidadMedidas/Desactivar/"+this.adId,{}).then((function(a){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar(),console.log(a)})).catch((function(e){console.log(e)}))},getColor(e){return 1==e?"green":"red"},getEtiqueta(e){return 1==e?"Activo":"Inactivo"}}};const Fe=(0,g.A)(ge,[["render",fe]]);var Ce=Fe;const Ve={class:"text-h5"},ye=["textContent"],Ae={key:0},De={key:1};function We(e,a,l,i,d,u){const m=(0,o.g2)("v-number-input");return(0,o.uX)(),(0,o.Wv)(L.Py,{headers:e.headers,items:e.almacenes,search:e.search,"sort-by":[{key:"calories",order:"asc"}]},{top:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("Almacenes")])),_:1}),(0,o.bF)(O.G,{class:"mx-2",inset:"",vertical:""}),(0,o.bF)(s.h),(0,o.bF)(B.W,{class:"text-xs-center",modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},null,8,["modelValue"]),(0,o.bF)(s.h),(0,o.bF)(E.p,{modelValue:e.dialog,"onUpdate:modelValue":a[4]||(a[4]=a=>e.dialog=a),"max-width":"500px"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(n.D,(0,o.v6)({class:"mb-2",color:"primary",dark:""},e),{default:(0,o.k6)((()=>[(0,o.eW)(" Nuevo ALmacen ")])),_:2},1040)])),default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",Ve,(0,I.v_)(u.formTitle),1)])),_:1}),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(R.I,null,{default:(0,o.k6)((()=>[(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"6",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(m,{modelValue:e.codigo,"onUpdate:modelValue":a[1]||(a[1]=a=>e.codigo=a),rules:[e=>!!e||"El campo Codigo es Obligatorio"],required:"",label:"Codigo"},null,8,["modelValue","rules"])])),_:1}),(0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.nombre,"onUpdate:modelValue":a[2]||(a[2]=a=>e.nombre=a),counter:30,rules:e.nameRules,required:"",label:"Nombre"},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.ubicacion,"onUpdate:modelValue":a[3]||(a[3]=a=>e.ubicacion=a),label:"Ubicación"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.validaMensaje,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"text-red",key:e,textContent:(0,I.v_)(e)},null,8,ye)))),128))])),_:1},512),[[t.aG,e.valida]])])),_:1})])),_:1})])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.guardar},{default:(0,o.k6)((()=>[(0,o.eW)(" Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.adModal,"onUpdate:modelValue":a[5]||(a[5]=a=>e.adModal=a),elavation:"2","max-width":"290px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[1==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:0,class:"haedline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Activar Item?")])),_:1})):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:1,class:"headline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Desactivar Item?")])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Estas apunto de "),2==e.adAccion?((0,o.uX)(),(0,o.CE)("span",Ae,"Desactivar ")):(0,o.Q3)("",!0),1==e.adAccion?((0,o.uX)(),(0,o.CE)("span",De,"Activar ")):(0,o.Q3)("",!0),(0,o.eW)(" el item "+(0,I.v_)(e.adNombre),1)])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"green darken-1",flat:"flat",onClick:u.activarDesactivarCerrar},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),1==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:0,color:"orange darken-4",flat:"flat",onClick:u.activar},{default:(0,o.k6)((()=>[(0,o.eW)(" Activar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:1,color:"orange darken-4",flat:"flat",onClick:u.desactivar},{default:(0,o.k6)((()=>[(0,o.eW)(" Desactivar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":a[6]||(a[6]=a=>e.dialogDelete=a),"max-width":"500px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Are you sure you want to delete this item?")])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.closeDelete},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.deleteItemConfirm},{default:(0,o.k6)((()=>[(0,o.eW)("OK")])),_:1},8,["onClick"]),(0,o.bF)(s.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,o.k6)((({item:e})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:a=>u.editItem(e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),e.condicion?((0,o.uX)(),(0,o.Wv)(X.w,{key:0,size:"small",onClick:a=>u.activarDesactivarMostrar(2,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-block-helper ")])),_:2},1032,["onClick"])):((0,o.uX)(),(0,o.Wv)(X.w,{key:1,size:"small",onClick:a=>u.activarDesactivarMostrar(1,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-check ")])),_:2},1032,["onClick"]))])),["item.condicion"]:(0,o.k6)((({value:e})=>[(0,o.bF)(U.x,{color:u.getColor(e)},{default:(0,o.k6)((()=>[(0,o.eW)((0,I.v_)(u.getEtiqueta(e)),1)])),_:2},1032,["color"])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:u.initialize},{default:(0,o.k6)((()=>[(0,o.eW)(" Resetear ")])),_:1},8,["onClick"])])),_:2},1032,["headers","items","search"])}var xe={data:()=>({dialog:!1,dialogDelete:!1,headers:[{title:"Opciones",value:"actions",key:"actions",sortable:!1},{title:"Codigo",value:"codigo",key:"codigo"},{title:"Nombre",value:"nombre",key:"nombre"},{title:"Ubicacion",value:"ubicacion",key:"ubicacion",sortable:!1},{title:"Estado",value:"condicion",key:"condicion"}],almacenes:[],search:"",editedIndex:-1,idalmacen:"",codigo:0,nombre:"",ubicacion:"",nameRules:[e=>!!e||"El campo nombre es Requerido",e=>e&&e.length>=3&&e.length<=30||"El *Nombre* debe tener más de 3 caracteres y menos de 30 caracteres"],valida:0,adModal:!1,validaMensaje:[],adAccion:0,adNombre:"",adId:""}),computed:{formTitle(){return-1===this.editedIndex?"Nuevo Almacen":"Actualizar Almacen"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize(),this.listar()},methods:{listar(){let e=this;J.A.get("api/Almacenes/Listar").then((function(a){e.almacenes=a.data})).catch((function(e){console.log(e)}))},initialize(){this.almacenes=[]},editItem(e){this.idalmacen=e.idalmacen,this.codigo=e.codigo,this.nombre=e.nombre,this.ubicacion=e.ubicacion,this.editedIndex=1,this.dialog=!0},deleteItem(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.desserts.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.limpiar()},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},limpiar(){this.idalmacen="",this.codigo="",this.nombre="",this.ubicacion="",this.editedIndex=-1},guardar(){if(!this.validar())if(this.editedIndex>-1){let e=this;J.A.put("api/Almacenes/Actualizar",{idalmacen:e.idalmacen,codigo:e.codigo,nombre:e.nombre,ubicacion:e.ubicacion}).then((function(){e.close(),e.listar(),e.limpiar()})).catch((function(e){console.log(e)}))}else{let e=this;J.A.post("api/Almacenes/Crear",{codigo:e.codigo,nombre:e.nombre,ubicacion:e.ubicacion}).then((function(){e.close(),e.listar(),e.limpiar()})).catch((function(e){console.log(e)}))}},validar(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El *Nombre* debe tener más de 3 caracteres y menos de 30 caracteres"),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar(e,a){this.adModal=1,this.adNombre=a.nombre,this.adId=a.idalmacen,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=!1},activarDesactivarCerrar(){this.adModal=!1},activar(){let e=this;J.A.put("api/Almacenes/Activar/"+this.adId,{}).then((function(){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar()})).catch((function(e){console.log(e)}))},desactivar(){let e=this;J.A.put("api/Almacenes/Desactivar/"+this.adId,{}).then((function(){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar()})).catch((function(e){console.log(e)}))},getColor(e){return 1==e?"green":"red"},getEtiqueta(e){return 1==e?"Activo":"Inactivo"}}};const Ie=(0,g.A)(xe,[["render",We]]);var Me=Ie;const we={class:"text-h5"},Ue=["textContent"],Le={key:0},Ee={key:1};function Oe(e,a,l,i,d,u){return(0,o.uX)(),(0,o.Wv)(L.Py,{headers:e.headers,items:e.proveedores,search:e.search,"sort-by":[{key:"calories",order:"asc"}]},{top:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("Proveedores")])),_:1}),(0,o.bF)(O.G,{class:"mx-2",inset:"",vertical:""}),(0,o.bF)(s.h),(0,o.bF)(B.W,{class:"text-xs-center",modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},null,8,["modelValue"]),(0,o.bF)(s.h),(0,o.bF)(E.p,{modelValue:e.dialog,"onUpdate:modelValue":a[10]||(a[10]=a=>e.dialog=a),"max-width":"500px"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(n.D,(0,o.v6)({class:"mb-2",color:"primary",dark:""},e),{default:(0,o.k6)((()=>[(0,o.eW)(" Nuevo Proveedor ")])),_:2},1040)])),default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",we,(0,I.v_)(u.formTitle),1)])),_:1}),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(R.I,null,{default:(0,o.k6)((()=>[(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.nombre,"onUpdate:modelValue":a[1]||(a[1]=a=>e.nombre=a),counter:50,rules:e.nameRules,required:"",label:"Nombre Proveedor"},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.nombre_contacto,"onUpdate:modelValue":a[2]||(a[2]=a=>e.nombre_contacto=a),label:"Nombre Contacto"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.direccion,"onUpdate:modelValue":a[3]||(a[3]=a=>e.direccion=a),label:"Dirección"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"6",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.codigo_postal,"onUpdate:modelValue":a[4]||(a[4]=a=>e.codigo_postal=a),label:"Codigo Postal"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"6",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.ciudad,"onUpdate:modelValue":a[5]||(a[5]=a=>e.ciudad=a),label:"Ciudad"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"6",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.telefono1,"onUpdate:modelValue":a[6]||(a[6]=a=>e.telefono1=a),label:"Telefono"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"6",md:"6",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.telefono2,"onUpdate:modelValue":a[7]||(a[7]=a=>e.telefono2=a),label:"Telefono Alterno"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.correo,"onUpdate:modelValue":a[8]||(a[8]=a=>e.correo=a),rules:e.emailRules,"prepend-icon":"mdi-mail",required:"",label:"Correo"},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(Y.J,{modelValue:e.notas,"onUpdate:modelValue":a[9]||(a[9]=a=>e.notas=a),rows:"2",counter:256,required:"",label:"Notas"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.validaMensaje,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"text-red",key:e,textContent:(0,I.v_)(e)},null,8,Ue)))),128))])),_:1},512),[[t.aG,e.valida]])])),_:1})])),_:1})])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.guardar},{default:(0,o.k6)((()=>[(0,o.eW)(" Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.adModal,"onUpdate:modelValue":a[11]||(a[11]=a=>e.adModal=a),elavation:"2","max-width":"290px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[1==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:0,class:"haedline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Activar Item?")])),_:1})):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:1,class:"headline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Desactivar Item?")])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Estas apunto de "),2==e.adAccion?((0,o.uX)(),(0,o.CE)("span",Le,"Desactivar ")):(0,o.Q3)("",!0),1==e.adAccion?((0,o.uX)(),(0,o.CE)("span",Ee,"Activar ")):(0,o.Q3)("",!0),(0,o.eW)(" el item "+(0,I.v_)(e.adNombre),1)])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"green darken-1",flat:"flat",onClick:u.activarDesactivarCerrar},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),1==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:0,color:"orange darken-4",flat:"flat",onClick:u.activar},{default:(0,o.k6)((()=>[(0,o.eW)(" Activar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:1,color:"orange darken-4",flat:"flat",onClick:u.desactivar},{default:(0,o.k6)((()=>[(0,o.eW)(" Desactivar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":a[12]||(a[12]=a=>e.dialogDelete=a),"max-width":"500px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Are you sure you want to delete this item?")])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.closeDelete},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.deleteItemConfirm},{default:(0,o.k6)((()=>[(0,o.eW)("OK")])),_:1},8,["onClick"]),(0,o.bF)(s.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,o.k6)((({item:e})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:a=>u.editItem(e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),e.condicion?((0,o.uX)(),(0,o.Wv)(X.w,{key:0,size:"small",onClick:a=>u.activarDesactivarMostrar(2,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-block-helper ")])),_:2},1032,["onClick"])):((0,o.uX)(),(0,o.Wv)(X.w,{key:1,size:"small",onClick:a=>u.activarDesactivarMostrar(1,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-check ")])),_:2},1032,["onClick"]))])),["item.condicion"]:(0,o.k6)((({value:e})=>[(0,o.bF)(U.x,{color:u.getColor(e)},{default:(0,o.k6)((()=>[(0,o.eW)((0,I.v_)(u.getEtiqueta(e)),1)])),_:2},1032,["color"])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:u.initialize},{default:(0,o.k6)((()=>[(0,o.eW)(" Resetear ")])),_:1},8,["onClick"])])),_:2},1032,["headers","items","search"])}var Re={data:()=>({dialog:!1,dialogDelete:!1,headers:[{title:"Opciones",value:"actions",key:"actions",sortable:!1},{title:"Nombre",value:"nombre",key:"nombre"},{title:"Contacto",value:"nombre_contacto",key:"nombre_contacto"},{title:"Direccion",value:"direccion",key:"direccion",sortable:!1},{title:"Codigo Postal",value:"codigo_postal",key:"codigo_postal"},{title:"Ciudad",value:"ciudad",key:"ciudad"},{title:"Telefono",value:"telefono1",key:"telefono1"},{title:"Telefono Alterno",value:"telefono2",key:"telefono2"},{title:"Estado",value:"condicion",key:"condicion"}],proveedores:[],search:"",editedIndex:-1,idproveedor:"",nombre:"",nombre_contacto:"",direccion:"",codigo_postal:"",ciudad:"",telefono1:"",telefono2:"",correo:"",notas:"",nameRules:[e=>!!e||"El campo Proveedor es Requerido",e=>e&&e.length>=3&&e.length<=50||"El *Proveedor* debe tener más de 3 caracteres y menos de 50 caracteres"],emailRules:[e=>!e||/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"formato de correo no valido"],valida:0,adModal:!1,validaMensaje:[],adAccion:0,adNombre:"",adId:""}),computed:{formTitle(){return-1===this.editedIndex?"Nuevo Proveedor":"Actualizar Proveedor"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize(),this.listar()},methods:{listar(){let e=this;J.A.get("api/Proveedores/Listar").then((function(a){e.proveedores=a.data})).catch((function(e){console.log(e)}))},initialize(){this.proveedores=[]},editItem(e){this.idproveedor=e.idproveedor,this.nombre=e.nombre,this.nombre_contacto=e.nombre_contacto,this.direccion=e.direccion,this.codigo_postal=e.codigo_postal,this.ciudad=e.ciudad,this.telefono1=e.telefono1,this.telefono2=e.telefono2,this.correo=e.correo,this.notas=e.notas,this.editedIndex=1,this.dialog=!0},deleteItem(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.desserts.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.limpiar()},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},limpiar(){this.idproveedor="",this.nombre="",this.nombre_contacto="",this.direccion="",this.codigo_postal="",this.ciudad="",this.telefono1="",this.telefono2="",this.correo="",this.notas="",this.editedIndex=-1},guardar(){if(!this.validar())if(this.editedIndex>-1){let e=this;J.A.put("api/Proveedores/Actualizar",{idproveedor:e.idproveedor,nombre:e.nombre,nombre_contacto:e.nombre_contacto,direccion:e.direccion,codigo_postal:e.codigo_postal,ciudad:e.ciudad,telefono1:e.telefono1,telefono2:e.telefono2,correo:e.correo,notas:e.notas}).then((function(a){e.close(),e.listar(),e.limpiar(),console.log(a)})).catch((function(e){console.log(e)}))}else{let e=this;J.A.post("api/Proveedores/Crear",{nombre:e.nombre,nombre_contacto:e.nombre_contacto,direccion:e.direccion,codigo_postal:e.codigo_postal,ciudad:e.ciudad,telefono1:e.telefono1,telefono2:e.telefono2,correo:e.correo,notas:e.notas}).then((function(a){e.close(),e.listar(),e.limpiar(),console.log(a)})).catch((function(e){console.log(e)}))}},validar(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El *Nombre* debe tener más de 3 caracteres y menos de 50 caracteres"),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar(e,a){this.adModal=1,this.adNombre=a.nombre,this.adId=a.idproveedor,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar(){this.adModal=!1},activar(){let e=this;J.A.put("api/Proveedores/Activar/"+this.adId,{}).then((function(a){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar(),console.log(a)})).catch((function(e){console.log(e)}))},desactivar(){let e=this;J.A.put("api/Proveedores/Desactivar/"+this.adId,{}).then((function(a){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar(),console.log(a)})).catch((function(e){console.log(e)}))},getColor(e){return 1==e?"green":"red"},getEtiqueta(e){return 1==e?"Activo":"Inactivo"}}};const Ne=(0,g.A)(Re,[["render",Oe]]);var Se=Ne;const Xe={class:"text-h5"},Be=["textContent"],ze={key:0},Te={key:1};function Ke(e,a,l,i,d,u){return(0,o.uX)(),(0,o.Wv)(L.Py,{headers:e.headers,items:e.ubicaciones,search:e.search,"sort-by":[{key:"calories",order:"asc"}]},{top:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("Ubicaciones")])),_:1}),(0,o.bF)(O.G,{class:"mx-2",inset:"",vertical:""}),(0,o.bF)(s.h),(0,o.bF)(B.W,{class:"text-xs-center",modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},null,8,["modelValue"]),(0,o.bF)(s.h),(0,o.bF)(E.p,{modelValue:e.dialog,"onUpdate:modelValue":a[3]||(a[3]=a=>e.dialog=a),"max-width":"500px"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(n.D,(0,o.v6)({class:"mb-2",color:"primary",dark:""},e),{default:(0,o.k6)((()=>[(0,o.eW)(" Nueva Ubicaión ")])),_:2},1040)])),default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",Xe,(0,I.v_)(u.formTitle),1)])),_:1}),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(R.I,null,{default:(0,o.k6)((()=>[(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.nombre,"onUpdate:modelValue":a[1]||(a[1]=a=>e.nombre=a),counter:30,rules:e.nameRules,required:"",label:"Nombre"},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.descripcion,"onUpdate:modelValue":a[2]||(a[2]=a=>e.descripcion=a),label:"Descripcion"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(S.B,{cols:"12",md:"12",sm:"6"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.validaMensaje,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"text-red",key:e,textContent:(0,I.v_)(e)},null,8,Be)))),128))])),_:1},512),[[t.aG,e.valida]])])),_:1})])),_:1})])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.guardar},{default:(0,o.k6)((()=>[(0,o.eW)(" Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.adModal,"onUpdate:modelValue":a[4]||(a[4]=a=>e.adModal=a),elavation:"2","max-width":"290px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[1==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:0,class:"haedline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Activar Item?")])),_:1})):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:1,class:"headline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Desactivar Item?")])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Estas apunto de "),2==e.adAccion?((0,o.uX)(),(0,o.CE)("span",ze,"Desactivar ")):(0,o.Q3)("",!0),1==e.adAccion?((0,o.uX)(),(0,o.CE)("span",Te,"Activar ")):(0,o.Q3)("",!0),(0,o.eW)(" el item "+(0,I.v_)(e.adNombre),1)])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"green darken-1",flat:"flat",onClick:u.activarDesactivarCerrar},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),1==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:0,color:"orange darken-4",flat:"flat",onClick:u.activar},{default:(0,o.k6)((()=>[(0,o.eW)(" Activar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0),2==e.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:1,color:"orange darken-4",flat:"flat",onClick:u.desactivar},{default:(0,o.k6)((()=>[(0,o.eW)(" Desactivar ")])),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":a[5]||(a[5]=a=>e.dialogDelete=a),"max-width":"500px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Are you sure you want to delete this item?")])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.closeDelete},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:u.deleteItemConfirm},{default:(0,o.k6)((()=>[(0,o.eW)("OK")])),_:1},8,["onClick"]),(0,o.bF)(s.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,o.k6)((({item:e})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:a=>u.editItem(e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),e.condicion?((0,o.uX)(),(0,o.Wv)(X.w,{key:0,size:"small",onClick:a=>u.activarDesactivarMostrar(2,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-block-helper ")])),_:2},1032,["onClick"])):((0,o.uX)(),(0,o.Wv)(X.w,{key:1,size:"small",onClick:a=>u.activarDesactivarMostrar(1,e)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-check ")])),_:2},1032,["onClick"]))])),["item.condicion"]:(0,o.k6)((({value:e})=>[(0,o.bF)(U.x,{color:u.getColor(e)},{default:(0,o.k6)((()=>[(0,o.eW)((0,I.v_)(u.getEtiqueta(e)),1)])),_:2},1032,["color"])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:u.initialize},{default:(0,o.k6)((()=>[(0,o.eW)(" Resetear ")])),_:1},8,["onClick"])])),_:2},1032,["headers","items","search"])}var je={data:()=>({dialog:!1,dialogDelete:!1,headers:[{title:"Opciones",value:"actions",key:"actions",sortable:!1},{title:"ID Ubicacion",value:"idubicacion",key:"idubicacion"},{title:"Nombre",value:"nombre",key:"nombre"},{title:"Descripcion",value:"descripcion",key:"descripcion",sortable:!1},{title:"Estado",value:"condicion",key:"condicion"}],ubicaciones:[],search:"",editedIndex:-1,idubicacion:"",nombre:"",descripcion:"",nameRules:[e=>!!e||"El campo nombre es Requerido",e=>e&&e.length>=3&&e.length<=30||"El *Nombre* debe tener más de 3 caracteres y menos de 30 caracteres"],adModal:!1,validaMensaje:[],adAccion:0,adNombre:"",adId:""}),computed:{formTitle(){return-1===this.editedIndex?"Nueva Ubicación":"Actualizar Ubicación"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize(),this.listar()},methods:{listar(){let e=this;J.A.get("api/Ubicaciones/Listar").then((function(a){e.ubicaciones=a.data})).catch((function(e){console.log(e)}))},initialize(){this.ubicaciones=[]},editItem(e){this.idubicacion=e.idubicacion,this.nombre=e.nombre,this.descripcion=e.descripcion,this.editedIndex=1,this.dialog=!0},deleteItem(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.desserts.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.limpiar()},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},limpiar(){this.idubicacion="",this.nombre="",this.descripcion="",this.editedIndex=-1},guardar(){if(this.editedIndex>-1){let e=this;J.A.put("api/Ubicaciones/Actualizar",{idubicacion:e.idubicacion,nombre:e.nombre,descripcion:e.descripcion}).then((function(a){e.close(),e.listar(),e.limpiar(),console.log(a)})).catch((function(e){console.log(e)}))}else{let e=this;J.A.post("api/Ubicaciones/Crear",{nombre:e.nombre,descripcion:e.descripcion}).then((function(a){e.close(),e.listar(),e.limpiar(),console.log(a)})).catch((function(e){console.log(e)}))}},activarDesactivarMostrar(e,a){this.adModal=1,this.adNombre=a.nombre,this.adId=a.idubicacion,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=!1},activarDesactivarCerrar(){this.adModal=!1},activar(){let e=this;J.A.put("api/Ubicaciones/Activar/"+this.adId,{}).then((function(a){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar(),console.log(a)})).catch((function(e){console.log(e)}))},desactivar(){let e=this;J.A.put("api/Ubicaciones/Desactivar/"+this.adId,{}).then((function(a){e.adModal=!1,e.adAccion=0,e.adNombre="",e.adId,e.listar(),console.log(a)})).catch((function(e){console.log(e)}))},getColor(e){return 1==e?"green":"red"},getEtiqueta(e){return 1==e?"Activo":"Inactivo"}}};const Pe=(0,g.A)(je,[["render",Ke]]);var Qe=Pe,Je=l(6554);const qe=(0,o.Lk)("span",{class:"headline"},"Seleccione un artículos",-1),Ge={class:"justify-center layout px-0"},$e=(0,o.Lk)("h3",null,"No hay artículos para mostrar.",-1),He={key:0},Ye={key:1},Ze=(0,o.Lk)("span",null," eliminar ",-1),ea={style:{"max-height":"1000px","overflow-y":"auto"}},aa={class:"text-center"},la={key:0},ta=(0,o.Lk)("span",{class:"blue--text"},"Aceptado",-1),oa=[ta],ia={key:1},da={class:"red--text"},na={class:"text-center"},ra=["onUpdate:modelValue","readonly"],ca=["onUpdate:modelValue","readonly"],sa=(0,o.Lk)("h3",null,"No hay artículos agregados al detalle.",-1),ua={class:"text-right"},ma=(0,o.Lk)("strong",null,"Total Parcial: ",-1),ha={class:"text-right"},ka=(0,o.Lk)("strong",null,"Total Impuesto: ",-1),ba={class:"text-right"},pa=(0,o.Lk)("strong",null,"Total Neto: ",-1);function va(e,a,l,i,d,m){const h=(0,o.g2)("v-flex");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(u.L,{"align-start":""},{default:(0,o.k6)((()=>[(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:"",color:"white"},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,{class:"font-weight-bold"},{default:(0,o.k6)((()=>[(0,o.eW)("Compras")])),_:1}),(0,o.bF)(O.G,{class:"mx-2",inset:"",vertical:""}),(0,o.bF)(s.h),0==i.verNuevo?((0,o.uX)(),(0,o.Wv)(B.W,{key:0,class:"text-xs-center",modelValue:i.search,"onUpdate:modelValue":a[0]||(a[0]=e=>i.search=e),"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},null,8,["modelValue"])):(0,o.Q3)("",!0),(0,o.bF)(s.h),0==i.verNuevo?((0,o.uX)(),(0,o.Wv)(n.D,{key:1,onClick:i.mostrarNuevo,color:"primary",dark:"",class:"mb-2"},{default:(0,o.k6)((()=>[(0,o.eW)("Nueva Compra")])),_:1},8,["onClick"])):(0,o.Q3)("",!0),(0,o.bF)(s.h),(0,o.bF)(E.p,{modelValue:i.verArticulos,"onUpdate:modelValue":a[5]||(a[5]=e=>i.verArticulos=e),"max-width":"1000px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[qe])),_:1}),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(R.I,{"grid-list-md":""},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{"append-icon":"search",class:"text-xs-center",modelValue:i.texto,"onUpdate:modelValue":a[1]||(a[1]=e=>i.texto=e),label:"Ingrese artículo a buscar",onInput:a[2]||(a[2]=e=>i.selectArticulo())},null,8,["modelValue"]),(0,o.bF)(u.L,{wrap:""},{default:(0,o.k6)((()=>[(0,o.bF)(h,{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}),(0,o.bF)(L.Py,{modelValue:i.idarticulo,"onUpdate:modelValue":a[3]||(a[3]=e=>i.idarticulo=e),items:i.temporalArticulos,"item-text":i.codigo,"item-value":i.idarticulo},{item:(0,o.k6)((e=>[(0,o.Lk)("tr",null,[(0,o.Lk)("td",Ge,[(0,o.bF)(n.D,{icon:"",small:"",onClick:a=>i.agregarDetalle(e.item),color:"primary"},{default:(0,o.k6)((()=>[(0,o.bF)(X.w,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-plus")])),_:1})])),_:2},1032,["onClick"])]),(0,o.Lk)("td",null,(0,I.v_)(e.item.idarticulo),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.codigo),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.idcategoria),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.descripcion),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.stock),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.precio_venta),1)])])),"no-data":(0,o.k6)((()=>[$e])),_:1},8,["modelValue","items","item-text","item-value"])])),_:1})])),_:1})])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{onClick:a[4]||(a[4]=e=>i.ocultarArticulos()),color:"blue darken",flat:""},{default:(0,o.k6)((()=>[(0,o.eW)("Cancelar")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:i.adModal,"onUpdate:modelValue":a[6]||(a[6]=e=>i.adModal=e),"max-width":"290"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[1==i.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:0,class:"headline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Activar Item?")])),_:1})):(0,o.Q3)("",!0),2==i.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:1,class:"headline"},{default:(0,o.k6)((()=>[(0,o.eW)("¿Anular Ingreso?")])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Estás a punto de "),1==i.adAccion?((0,o.uX)(),(0,o.CE)("span",He,"Activar ")):(0,o.Q3)("",!0),2==i.adAccion?((0,o.uX)(),(0,o.CE)("span",Ye,"Anular ")):(0,o.Q3)("",!0),(0,o.eW)(" el ítem "+(0,I.v_)(i.adNombre),1)])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"green darken-1",flat:"",onClick:i.activarDesactivarCerrar},{default:(0,o.k6)((()=>[(0,o.eW)("Cancelar")])),_:1},8,["onClick"]),1==i.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:0,color:"orange darken-4",flat:"",onClick:e.activar},{default:(0,o.k6)((()=>[(0,o.eW)("Activar")])),_:1},8,["onClick"])):(0,o.Q3)("",!0),2==i.adAccion?((0,o.uX)(),(0,o.Wv)(n.D,{key:1,color:"orange darken-4",flat:"",onClick:e.desactivar},{default:(0,o.k6)((()=>[(0,o.eW)("Anular")])),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:i.adModal2,"onUpdate:modelValue":a[8]||(a[8]=e=>i.adModal2=e),elavation:"2","max-width":"290px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[1==i.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:0,class:"haedline"},{default:(0,o.k6)((()=>[(0,o.eW)("Eliminar Item?")])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Estas apunto de "),Ze,(0,o.eW)(" el item "+(0,I.v_)(i.adNombre),1)])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"green darken-1",flat:"flat",onClick:i.activarDesactivarCerrar},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"orange darken-4",flat:"flat",onClick:a[7]||(a[7]=e=>i.eliminarDetalle(i.detalles,i.adNombre))},{default:(0,o.k6)((()=>[(0,o.eW)(" Eliminar ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Lk)("div",ea,[0==i.verNuevo?((0,o.uX)(),(0,o.Wv)(L.Py,{key:0,headers:i.headers,items:i.ingresos,search:i.search,class:"elevation-1"},{item:(0,o.k6)((e=>[(0,o.Lk)("tr",null,[(0,o.Lk)("td",aa,[(0,o.bF)(X.w,{small:"",class:"me-2",onClick:a=>i.verDetalles(e.item)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,o.bF)(X.w,{small:"",onClick:a=>i.activarDesactivarMostrar(2,e.item)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-block-helper ")])),_:2},1032,["onClick"])]),(0,o.Lk)("td",null,(0,I.v_)(e.item.proveedor),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.tipo_comprobante),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.tipo_movimiento),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.serie_comprobante),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.num_comprobante),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.impuesto),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.total),1),(0,o.Lk)("td",null,["Aceptado"==e.item.estado?((0,o.uX)(),(0,o.CE)("div",la,oa)):((0,o.uX)(),(0,o.CE)("div",ia,[(0,o.Lk)("span",da,(0,I.v_)(e.item.estado),1)]))])])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:i.listar},{default:(0,o.k6)((()=>[(0,o.eW)("Resetear")])),_:1},8,["onClick"])])),_:1},8,["headers","items","search"])):(0,o.Q3)("",!0)]),i.verNuevo?((0,o.uX)(),(0,o.Wv)(R.I,{key:0,class:"pa-4 white"},{default:(0,o.k6)((()=>[(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12"}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:i.idingreso,"onUpdate:modelValue":a[9]||(a[9]=e=>i.idingreso=e),label:"Folio Ingreso",disabled:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:i.tipo_movimiento,"onUpdate:modelValue":a[10]||(a[10]=e=>i.tipo_movimiento=e),items:i.tipo_movimientos,label:"Tipo Movimiento"},null,8,["modelValue","items"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:i.tipo_comprobante,"onUpdate:modelValue":a[11]||(a[11]=e=>i.tipo_comprobante=e),items:i.comprobantes,label:"Tipo Comprobante"},null,8,["modelValue","items"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:i.serie_comprobante,"onUpdate:modelValue":a[12]||(a[12]=e=>i.serie_comprobante=e),label:"Serie Comprobante"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:i.num_comprobante,"onUpdate:modelValue":a[13]||(a[13]=e=>i.num_comprobante=e),label:"Número Comprobante"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:i.idproveedor,"onUpdate:modelValue":a[14]||(a[14]=e=>i.idproveedor=e),items:i.temporalProveedores,label:"Proveedor"},null,8,["modelValue","items"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{type:"number",modelValue:i.impuesto,"onUpdate:modelValue":a[15]||(a[15]=e=>i.impuesto=e),label:"Impuesto"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:i.mostrarArticulos,small:"",fab:"",dark:"",color:"teal"},{default:(0,o.k6)((()=>[(0,o.bF)(X.w,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-format-list-bulleted")])),_:1})])),_:1},8,["onClick"])])),_:1}),i.errorArticulo?((0,o.uX)(),(0,o.Wv)(S.B,{key:0,cols:"12",sm:"6",md:"4"})):(0,o.Q3)("",!0),(0,o.bF)(S.B,{cols:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(L.Py,{headers:i.cabeceraDetalles,items:i.detalles,"hide-default-footer":!0,class:"elevation-1"},{item:(0,o.k6)((({item:e})=>[(0,o.Lk)("tr",null,[(0,o.Lk)("td",na,[(0,o.bF)(X.w,{small:"",onClick:a=>i.preguntarBorrarDetalle(i.detalles,e)},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-delete")])),_:2},1032,["onClick"])]),(0,o.Lk)("td",null,(0,I.v_)(e.idarticulo),1),(0,o.Lk)("td",null,(0,I.v_)(e.codigo),1),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":a=>e.descripcion=a,readonly:!e.editable},null,8,ra),[[t.Jo,e.descripcion]])]),(0,o.Lk)("td",null,[(0,o.bF)(B.W,{type:"number",modelValue:e.cantidad,"onUpdate:modelValue":a=>e.cantidad=a,onInput:i.actualizarTotal,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","onInput"])]),(0,o.Lk)("td",null,[(0,o.eW)("$ "),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":a=>e.precio=a,onInput:a[16]||(a[16]=(...e)=>i.actualizarTotal&&i.actualizarTotal(...e)),readonly:!e.editable},null,40,ca),[[t.Jo,e.precio]])]),(0,o.Lk)("td",null,"$ "+(0,I.v_)(e.cantidad*e.precio),1)])])),"no-data":(0,o.k6)((()=>[sa])),_:1},8,["headers","items"]),(0,o.Lk)("div",ua,[ma,(0,o.eW)("$ "+(0,I.v_)(i.totalParcial),1)]),(0,o.Lk)("div",ha,[ka,(0,o.eW)("$ "+(0,I.v_)(i.totalImpuesto),1)]),(0,o.Lk)("div",ba,[pa,(0,o.eW)("$ "+(0,I.v_)(i.total),1)])])),_:1}),(0,o.bF)(S.B,{cols:"12"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.validaMensaje,((e,a)=>((0,o.uX)(),(0,o.CE)("div",{key:a,class:"red--text"},(0,I.v_)(e),1)))),128))])),_:1}),(0,o.bF)(S.B,{cols:"12",class:"d-flex justify-left"},{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:i.ocultarNuevo,color:"blue-darken-1",text:"",class:"mr-4"},{default:(0,o.k6)((()=>[(0,o.eW)("Cancelar")])),_:1},8,["onClick"]),0===i.verDet?((0,o.uX)(),(0,o.Wv)(n.D,{key:0,onClick:i.guardar,color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)("Guardar")])),_:1},8,["onClick"])):(0,o.Q3)("",!0),1===i.verDet?((0,o.uX)(),(0,o.Wv)(n.D,{key:1,onClick:i.actualizar,color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)("Actualizar")])),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1})):(0,o.Q3)("",!0)])),_:1})])),_:1}),(0,o.bF)(Je.K,{modelValue:i.snackbar.show,"onUpdate:modelValue":a[18]||(a[18]=e=>i.snackbar.show=e),timeout:i.snackbar.timeout,color:"error"},{default:(0,o.k6)((()=>[(0,o.eW)((0,I.v_)(i.snackbar.text)+" ",1),(0,o.bF)(n.D,{color:"red",text:"",onClick:a[17]||(a[17]=e=>i.snackbar.show=!1)},{default:(0,o.k6)((()=>[(0,o.eW)("Cerrar")])),_:1})])),_:1},8,["modelValue","timeout"])],64)}var _a=l(144),fa={data:()=>({valida:0,validaMensaje:[]}),setup(){const e=(0,_a.KR)([]),a=(0,_a.KR)([]),l=(0,_a.KR)([]),t=(0,_a.KR)([]),i=(0,_a.KR)([{title:"Opciones",key:"opciones"},{title:"Proveedor ",key:"proveedor"},{title:"Comprobante",key:"comprobante"},{title:"Tipo Movimiento",key:"tipo_movimiento"},{title:"Serie Comprobante",key:"serie_comprobante"},{title:"Número Comprobante",key:"numero_comprobante"},{title:"Impuesto",key:"impuesto"},{title:"Total",key:"total"},{title:"Estado",key:"estado"}]),d=(0,_a.KR)([{title:"Borrar",key:"borrar"},{title:"Id Detalle",key:"iddetalle_ingreso"},{title:"Código Artículo",key:"codigo"},{title:"Descripción",key:"descripcion"},{title:"Cantidad",key:"cantidad"},{title:"Precio",key:"precio"},{title:"Subtotal",key:"subtotal"}]),n=(0,_a.KR)(""),r=(0,_a.KR)(""),c=(0,_a.KR)(""),s=(0,_a.KR)(""),u=(0,_a.KR)(""),m=(0,_a.KR)(""),h=(0,_a.KR)(""),k=(0,_a.KR)(["PEDIMIENTO","FACTURA","BOLETA","TICKET","GUIA"]),b=(0,_a.KR)(""),p=(0,_a.KR)(""),v=(0,_a.KR)(0),_=(0,_a.KR)(16),f=[],g=(0,_a.KR)(""),F=(0,_a.KR)(0),C=(0,_a.KR)([{title:"Adquisiciones",value:"E01"},{title:"Devoluciones",value:"E10"}]),V=(0,_a.KR)([{title:"Seleccionar",key:"seleccionar"},{title:"Código Artículo",key:"codigo"},{title:"ID Categoría",key:"idcategoria"},{title:"Descripción",key:"descripcion"},{title:"Stock",key:"stock"},{title:"Precio Venta",key:"precio_venta"}]),y=(0,_a.KR)([]),A=(0,_a.KR)(""),D=(0,_a.KR)(!1),W=(0,_a.KR)(!1),x=(0,_a.KR)(0),I=(0,_a.KR)([]),M=(0,_a.KR)(!1),w=(0,_a.KR)(!1),U=(0,_a.KR)(!1),L=(0,_a.KR)(""),E=(0,_a.KR)(""),O=(0,_a.KR)([]),R=(0,_a.KR)(null),N=(0,_a.KR)({show:!1,text:""}),S=(0,o.EW)((()=>O.value.reduce(((e,a)=>e+a.precio*a.cantidad),0))),X=(0,o.EW)((()=>S.value*(_.value/100))),B=(0,o.EW)((()=>S.value+X.value)),z=()=>{S.value=O.value.reduce(((e,a)=>e+a.precio*a.cantidad),0),X.value=S.value*(_.value/100),B.value=S.value+X.value},T=()=>{F.value=1,q(),P()},K=()=>{F.value=0,oe()},j=()=>{R.value=null;const e={Authorization:"Bearer "+localStorage.getItem("token")},a={headers:e},l=g.value.trim();J.A.get("api/Articulos/BuscarCodigoIngreso/"+l+"/",a).then((e=>{H(e.data)})).catch((e=>{console.log(e),R.value="No existe el Código artículo"}))},P=async()=>{try{const e={Authorization:"Bearer "+localStorage.getItem("token")},t=await J.A.get("api/Articulos/Listar",{headers:e});a.value=t.data.map((e=>({agregar:null,idarticulo:e.idarticulo,codigo:e.codigo||"",idcategoria:e.idcategoria,descripcion:e.descripcion||"",stock:e.stock,precio_venta:e.precio_venta||0}))),l.value=[...a.value],Q()}catch(e){console.log(e)}},Q=()=>{if(""===A.value.trim())a.value=[...l.value];else{const e=A.value.toLowerCase();a.value=l.value.filter((a=>{const l=a.descripcion.toLowerCase().includes(e),t=a.codigo.toLowerCase().includes(e),o=a.precio_venta.toString().includes(e);return l||t||o}))}},q=async()=>{try{const a={Authorization:"Bearer "+localStorage.getItem("token")},l=await J.A.get("api/Proveedores/Listar",{headers:a});e.value=l.data.map((e=>({title:e.nombre||"",value:e.idproveedor})))}catch(a){console.error(a)}},G=()=>{D.value=!0},$=()=>{D.value=0},H=(e={})=>{R.value=null,Y(e.idarticulo)?(R.value="El artículo ya ha sido agregado.",N.value.show=!0,N.value.text=R.value):(O.value.push({idarticulo:e.idarticulo,codigo:e.codigo,descripcion:e.descripcion,cantidad:1,precio:e.precio_venta}),z())},Y=e=>O.value.some((a=>a.idarticulo===e)),Z=e=>{const a={Authorization:"Bearer "+localStorage.getItem("token")},l={headers:a};J.A.delete("api/ingresos/eliminarDetalleIngreso/"+e,l).then((e=>{console.log(e),z()})).catch((e=>{console.log(e)}))},ee=(e,a)=>{const l=e.findIndex((e=>e.iddetalle_ingreso===a));-1!==l&&(e.splice(l,1),Z(a),z(),w.value=!1)},ae=()=>{const e={Authorization:"Bearer "+localStorage.getItem("token")},a={headers:e};let l="";l=r.value?"api/Ingresos/ListarFiltro/texto"+r.value:"api/Ingresos/Listar",J.A.get(l,a).then((e=>{t.value=e.data,console.log(e.data)})).catch((e=>{console.log(e)}))},le=e=>{const a={Authorization:"Bearer "+localStorage.getItem("token")},l={headers:a};J.A.get("api/Ingresos/ListarDetalles/"+e,l).then((e=>{O.value=e.data,z()})).catch((e=>{console.log(e)}))},te=e=>{oe(),v.value=e.idingreso,c.value=e.idproveedor,m.value=e.tipo_comprobante,h.value=e.tipo_movimiento,b.value=e.serie_comprobante,p.value=e.num_comprobante,c.value=e.idproveedor,u.value=e.idarticulo,_.value=e.impuesto,le(e.idingreso),F.value=1,W.value=1},oe=()=>{n.value="",c.value="",s.value="",u.value="",m.value="",h.value="",b.value="",p.value="",_.value=16,g.value="",O.value=[],B.value=0,X.value=0,S.value=0,W.value=0},ie=()=>{if(ne())return;const e={idingreso:v.value,idusuario:1002,idproveedor:c.value,tipo_comprobante:m.value,tipo_movimiento:h.value,serie_comprobante:b.value,num_comprobante:p.value,impuesto:_.value,total:B.value,estado:"ACEPTADO",detalles:O.value};J.A.put("api/Ingresos/Actualizar",e).then((e=>{K(),ae(),console.log(e)})).catch((e=>{console.log(e)}))},de=()=>{if(ne())return;const e={idusuario:1002,idproveedor:c.value,tipo_comprobante:m.value,tipo_movimiento:h.value,serie_comprobante:b.value,num_comprobante:p.value,impuesto:_.value,total:B.value,estado:"ACEPTADO",detalles:O.value};J.A.post("api/ingresos/crear",e).then((e=>{K(e),oe(),ae()})).catch((e=>{console.log(e)}))},ne=()=>(x.value=0,I.value=[],m.value||I.value.push("Seleccione un tipo de comprobante."),h.value||I.value.push("Seleccione un tipo de movimiento."),p.value||I.value.push("Ingrese el número del comprobante."),b.value||I.value.push("Ingrese el número de serie del comprobante."),(!_.value||_.value<0)&&I.value.push("Ingrese un impuesto válido."),I.value.length&&(x.value=1),x.value),re=(e,a)=>{M.value=1,w.value=1,L.value=a.iddetalle_ingreso,E.value=a.idingreso,U.value=e},ce=(e,a)=>{w.value=!0,L.value=a.iddetalle_ingreso,E.value=a.idventa,U.value=e},se=()=>{M.value=0,w.value=0};return(0,o.sV)((()=>{ae(),q(),P(),de(),ie()})),{ingresos:t,headers:i,cabeceraDetalles:d,detalles:O,search:r,idproveedor:c,idarticulo:u,tipo_comprobante:m,tipo_movimiento:h,comprobantes:k,tipo_movimientos:C,serie_comprobante:b,num_comprobante:p,detalle:f,idingreso:v,impuesto:_,proveedor:s,codigo:g,verNuevo:F,errorArticulo:R,totalParcial:S,totalImpuesto:X,total:B,cabeceraArticulos:V,articulos:y,texto:A,verArticulos:D,verDet:W,preguntarBorrarDetalle:ce,adModal:M,adModal2:w,adAccion:U,adNombre:L,adId:E,actualizarTotal:z,mostrarNuevo:T,ocultarNuevo:K,selectArticulo:P,mostrarArticulos:G,ocultarArticulos:$,agregarDetalle:H,encuentra:Y,eliminarDetalle:ee,listar:ae,listarDetalles:le,verDetalles:te,limpiar:oe,guardar:de,actualizar:ie,validar:ne,activarDesactivarMostrar:re,activarDesactivarCerrar:se,snackbar:N,temporalProveedores:e,temporalArticulos:a,buscarCodigo:j}}};const ga=(0,g.A)(fa,[["render",va]]);var Fa=ga;const Ca=(0,o.Lk)("span",{class:"headline"},"Seleccione un artículo",-1),Va={class:"justify-center layout px-0"},ya=(0,o.Lk)("h3",null,"No hay artículos para mostrar.",-1),Aa=(0,o.Lk)("span",null," eliminar ",-1),Da={style:{"max-height":"1000px","overflow-y":"auto"}},Wa={class:"text-center"},xa={key:0},Ia=(0,o.Lk)("span",{class:"blue--text"},"Aceptado",-1),Ma=[Ia],wa={key:1},Ua={class:"red--text"},La={class:"text-center"},Ea=["onUpdate:modelValue","readonly"],Oa=["onUpdate:modelValue","readonly"],Ra=(0,o.Lk)("h3",null,"No hay artículos agregados al detalle.",-1),Na={class:"text-right"},Sa=(0,o.Lk)("strong",null,"Total Parcial: ",-1),Xa={class:"text-right"},Ba=(0,o.Lk)("strong",null,"Total Impuesto: ",-1),za={class:"text-right"},Ta=(0,o.Lk)("strong",null,"Total Neto: ",-1);function Ka(e,a,l,i,d,m){const h=(0,o.g2)("v-flex");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(u.L,{"align-start":""},{default:(0,o.k6)((()=>[(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:"",color:"white"},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,{class:"font-weight-bold"},{default:(0,o.k6)((()=>[(0,o.eW)("Salidas OT")])),_:1}),(0,o.bF)(O.G,{class:"mx-2",inset:"",vertical:""}),(0,o.bF)(s.h),0==i.verNuevo?((0,o.uX)(),(0,o.Wv)(B.W,{key:0,class:"text-xs-center",modelValue:i.search,"onUpdate:modelValue":a[0]||(a[0]=e=>i.search=e),"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},null,8,["modelValue"])):(0,o.Q3)("",!0),(0,o.bF)(s.h),0==i.verNuevo?((0,o.uX)(),(0,o.Wv)(n.D,{key:1,onClick:i.mostrarNuevo,color:"primary",dark:"",class:"mb-2"},{default:(0,o.k6)((()=>[(0,o.eW)("Nueva Salida OT")])),_:1},8,["onClick"])):(0,o.Q3)("",!0),(0,o.bF)(s.h),(0,o.bF)(E.p,{modelValue:i.verArticulos,"onUpdate:modelValue":a[5]||(a[5]=e=>i.verArticulos=e),"max-width":"1000px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[Ca])),_:1}),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(R.I,{"grid-list-md":""},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{"append-icon":"search",class:"text-xs-center",modelValue:i.texto,"onUpdate:modelValue":a[1]||(a[1]=e=>i.texto=e),label:"Ingrese artículo a buscar",onInput:a[2]||(a[2]=e=>i.selectArticulo())},null,8,["modelValue"]),(0,o.bF)(u.L,{wrap:""},{default:(0,o.k6)((()=>[(0,o.bF)(h,{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}),(0,o.bF)(L.Py,{modelValue:i.idarticulo,"onUpdate:modelValue":a[3]||(a[3]=e=>i.idarticulo=e),items:i.temporalArticulos,"item-text":i.codigo,"item-value":i.idarticulo},{item:(0,o.k6)((e=>[(0,o.Lk)("tr",null,[(0,o.Lk)("td",Va,[(0,o.bF)(n.D,{icon:"",small:"",onClick:a=>i.agregarDetalle(e.item),color:"primary"},{default:(0,o.k6)((()=>[(0,o.bF)(X.w,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-plus")])),_:1})])),_:2},1032,["onClick"])]),(0,o.Lk)("td",null,(0,I.v_)(e.item.idarticulo),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.codigo),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.idcategoria),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.descripcion),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.stock),1),(0,o.Lk)("td",null,(0,I.v_)(e.item.precio_venta),1)])])),"no-data":(0,o.k6)((()=>[ya])),_:1},8,["modelValue","items","item-text","item-value"])])),_:1})])),_:1})])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{onClick:a[4]||(a[4]=e=>i.ocultarArticulos()),color:"blue darken",flat:""},{default:(0,o.k6)((()=>[(0,o.eW)("Cancelar")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:i.adModal,"onUpdate:modelValue":a[7]||(a[7]=e=>i.adModal=e),elavation:"2","max-width":"290px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[1==i.adAccion?((0,o.uX)(),(0,o.Wv)(M.r,{key:0,class:"haedline"},{default:(0,o.k6)((()=>[(0,o.eW)("Eliminar Item?")])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(c.O,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Estas apunto de "),Aa,(0,o.eW)(" el item "+(0,I.v_)(i.adNombre),1)])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"green darken-1",flat:"flat",onClick:i.activarDesactivarCerrar},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"orange darken-4",flat:"flat",onClick:a[6]||(a[6]=e=>i.eliminarDetalle(i.detalles,i.adNombre))},{default:(0,o.k6)((()=>[(0,o.eW)(" Eliminar ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Lk)("div",Da,[0==i.verNuevo?((0,o.uX)(),(0,o.Wv)(L.Py,{key:0,headers:i.headers,items:i.ventas,search:i.search,class:"elevation-1"},{item:(0,o.k6)((a=>[(0,o.Lk)("tr",null,[(0,o.Lk)("td",Wa,[(0,o.bF)(X.w,{small:"",class:"me-2",onClick:e=>i.verDetalles(a.item)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,o.bF)(X.w,{small:"",onClick:l=>e.activarDesactivarMostrar(2,a.item)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-block-helper ")])),_:2},1032,["onClick"])]),(0,o.Lk)("td",null,(0,I.v_)(a.item.tipo_comprobante),1),(0,o.Lk)("td",null,(0,I.v_)(a.item.tipo_movimiento),1),(0,o.Lk)("td",null,(0,I.v_)(a.item.serie_comprobante),1),(0,o.Lk)("td",null,(0,I.v_)(a.item.num_comprobante),1),(0,o.Lk)("td",null,(0,I.v_)(a.item.impuesto),1),(0,o.Lk)("td",null,(0,I.v_)(a.item.total),1),(0,o.Lk)("td",null,["Aceptado"==a.item.estado?((0,o.uX)(),(0,o.CE)("div",xa,Ma)):((0,o.uX)(),(0,o.CE)("div",wa,[(0,o.Lk)("span",Ua,(0,I.v_)(a.item.estado),1)]))])])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:i.listar},{default:(0,o.k6)((()=>[(0,o.eW)("Resetear")])),_:1},8,["onClick"])])),_:1},8,["headers","items","search"])):(0,o.Q3)("",!0)]),i.verNuevo?((0,o.uX)(),(0,o.Wv)(R.I,{key:0,class:"pa-4 white"},{default:(0,o.k6)((()=>[(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,{cols:"12"}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:i.idventa,"onUpdate:modelValue":a[8]||(a[8]=e=>i.idventa=e),label:"Folio Venta",disabled:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:i.tipo_movimiento,"onUpdate:modelValue":a[9]||(a[9]=e=>i.tipo_movimiento=e),items:i.tipo_movimientos,label:"Tipo Movimiento"},null,8,["modelValue","items"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:i.tipo_comprobante,"onUpdate:modelValue":a[10]||(a[10]=e=>i.tipo_comprobante=e),items:i.comprobantes,label:"Tipo Comprobante"},null,8,["modelValue","items"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:i.serie_comprobante,"onUpdate:modelValue":a[11]||(a[11]=e=>i.serie_comprobante=e),label:"Serie Comprobante"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:i.num_comprobante,"onUpdate:modelValue":a[12]||(a[12]=e=>i.num_comprobante=e),label:"Número Comprobante"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{type:"number",modelValue:i.impuesto,"onUpdate:modelValue":a[13]||(a[13]=e=>i.impuesto=e),label:"Impuesto"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,{cols:"12",sm:"6",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:i.mostrarArticulos,small:"",fab:"",dark:"",color:"teal"},{default:(0,o.k6)((()=>[(0,o.bF)(X.w,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-format-list-bulleted")])),_:1})])),_:1},8,["onClick"])])),_:1}),i.errorArticulo?((0,o.uX)(),(0,o.Wv)(S.B,{key:0,cols:"12",sm:"6",md:"4"})):(0,o.Q3)("",!0),(0,o.bF)(S.B,{cols:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(L.Py,{headers:i.cabeceraDetalles,items:i.detalles,"hide-default-footer":!0,class:"elevation-1"},{item:(0,o.k6)((({item:e})=>[(0,o.Lk)("tr",null,[(0,o.Lk)("td",La,[(0,o.bF)(X.w,{small:"",onClick:a=>i.preguntarBorrarDetalle(i.detalles,e)},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-delete")])),_:2},1032,["onClick"])]),(0,o.Lk)("td",null,(0,I.v_)(e.idarticulo),1),(0,o.Lk)("td",null,(0,I.v_)(e.codigo),1),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":a=>e.descripcion=a,readonly:!e.editable},null,8,Ea),[[t.Jo,e.descripcion]])]),(0,o.Lk)("td",null,[(0,o.bF)(B.W,{type:"number",modelValue:e.cantidad,"onUpdate:modelValue":a=>e.cantidad=a,onInput:i.actualizarTotal,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue","onInput"])]),(0,o.Lk)("td",null,[(0,o.eW)("$ "),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":a=>e.precio=a,onInput:a[14]||(a[14]=(...e)=>i.actualizarTotal&&i.actualizarTotal(...e)),readonly:!e.editable},null,40,Oa),[[t.Jo,e.precio]])]),(0,o.Lk)("td",null,"$ "+(0,I.v_)(e.cantidad*e.precio),1)])])),"no-data":(0,o.k6)((()=>[Ra])),_:1},8,["headers","items"]),(0,o.Lk)("div",Na,[Sa,(0,o.eW)("$ "+(0,I.v_)(i.totalParcial),1)]),(0,o.Lk)("div",Xa,[Ba,(0,o.eW)("$ "+(0,I.v_)(i.totalImpuesto),1)]),(0,o.Lk)("div",za,[Ta,(0,o.eW)("$ "+(0,I.v_)(i.total),1)])])),_:1}),(0,o.bF)(S.B,{cols:"12"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.validaMensaje,((e,a)=>((0,o.uX)(),(0,o.CE)("div",{key:a,class:"red--text"},(0,I.v_)(e),1)))),128))])),_:1}),(0,o.bF)(S.B,{cols:"12",class:"d-flex justify-left"},{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:i.ocultarNuevo,color:"blue-darken-1",text:"",class:"mr-4"},{default:(0,o.k6)((()=>[(0,o.eW)("Cancelar")])),_:1},8,["onClick"]),0===i.verDet?((0,o.uX)(),(0,o.Wv)(n.D,{key:0,onClick:i.guardar,color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)("Guardar")])),_:1},8,["onClick"])):(0,o.Q3)("",!0),1===i.verDet?((0,o.uX)(),(0,o.Wv)(n.D,{key:1,onClick:i.actualizar,color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)("Actualizar")])),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1})):(0,o.Q3)("",!0)])),_:1})])),_:1}),(0,o.bF)(Je.K,{modelValue:i.snackbar.show,"onUpdate:modelValue":a[16]||(a[16]=e=>i.snackbar.show=e),timeout:i.snackbar.timeout,color:"error"},{default:(0,o.k6)((()=>[(0,o.eW)((0,I.v_)(i.snackbar.text)+" ",1),(0,o.bF)(n.D,{color:"red",text:"",onClick:a[15]||(a[15]=e=>i.snackbar.show=!1)},{default:(0,o.k6)((()=>[(0,o.eW)("Cerrar")])),_:1})])),_:1},8,["modelValue","timeout"])],64)}var ja={setup(){const e=(0,_a.KR)([]),a=(0,_a.KR)([]),l=(0,_a.KR)(!1),t=(0,_a.KR)([]),i=(0,_a.KR)([{title:"Opciones",key:"opciones"},{title:"Comprobante",key:"comprobante"},{title:"Tipo Movimiento",key:"tipo_movimiento"},{title:"Serie Comprobante",key:"serie_comprobante"},{title:"Número Comprobante",key:"numero_comprobante"},{title:"Impuesto",key:"impuesto"},{title:"Total",key:"total"},{title:"Estado",key:"estado"}]),d=(0,_a.KR)([{title:"Borrar",key:"borrar"},{title:"IdArticulo",key:"idarticulo"},{title:"Código Artículo",key:"codigo"},{title:"Descripción",key:"descripcion"},{title:"Cantidad",key:"cantidad"},{title:"Precio",key:"precio"},{title:"Subtotal",key:"subtotal"}]),n=(0,_a.KR)(""),r=(0,_a.KR)(""),c=(0,_a.KR)(""),s=(0,_a.KR)(""),u=(0,_a.KR)(""),m=(0,_a.KR)(["PEDIMIENTO","FACTURA","BOLETA","TICKET","GUIA"]),h=(0,_a.KR)([{title:"Salidas",value:"S01"}]),k=(0,_a.KR)(""),b=(0,_a.KR)(""),p=(0,_a.KR)(0),v=(0,_a.KR)(16),_=[],f=(0,_a.KR)(""),g=(0,_a.KR)(!1),F=(0,_a.KR)([{title:"Seleccionar",key:"seleccionar"},{title:"Código Artículo",key:"codigo"},{title:"ID Categoría",key:"idcategoria"},{title:"Descripción",key:"descripcion"},{title:"Stock",key:"stock"},{title:"Precio Venta",key:"precio_venta"}]),C=(0,_a.KR)([]),V=(0,_a.KR)([]),y=(0,_a.KR)(""),A=(0,_a.KR)(!1),D=(0,_a.KR)(!1),W=(0,_a.KR)(!1),x=(0,_a.KR)([]),I=(0,_a.KR)(!1),M=(0,_a.KR)(!1),w=(0,_a.KR)(""),U=(0,_a.KR)(""),L=(0,_a.KR)([]),E=(0,_a.KR)(null),O=(0,_a.KR)({show:!1,text:""}),R=(0,o.EW)((()=>L.value.reduce(((e,a)=>e+a.precio*a.cantidad),0))),N=(0,o.EW)((()=>R.value*(v.value/100))),S=(0,o.EW)((()=>R.value+N.value)),X=()=>{R.value=L.value.reduce(((e,a)=>e+a.precio*a.cantidad),0),N.value=R.value*(v.value/100),S.value=R.value+N.value},B=()=>{g.value=1,D.value=0,K()},z=()=>{g.value=0,ae()},T=()=>{E.value=null;const e={Authorization:"Bearer "+localStorage.getItem("token")},a={headers:e},l=f.value.trim();J.A.get("api/Articulos/BuscarCodigoIngreso/"+l+"/",a).then((e=>{q(e.data)})).catch((e=>{console.log(e),E.value="No existe el Código artículo"}))},K=async()=>{try{const e={Authorization:"Bearer "+localStorage.getItem("token")},l=await J.A.get("api/Articulos/Listar",{headers:e});a.value=l.data.map((e=>({agregar:null,idarticulo:e.idarticulo,codigo:e.codigo||"",idcategoria:e.idcategoria,descripcion:e.descripcion||"",stock:e.stock,precio_venta:e.precio_venta||0}))),V.value=[...a.value],j()}catch(e){console.log(e)}},j=()=>{if(""===y.value.trim())a.value=[...V.value];else{const e=y.value.toLowerCase();a.value=V.value.filter((a=>{const l=a.descripcion.toLowerCase().includes(e),t=a.codigo.toLowerCase().includes(e),o=a.precio_venta.toString().includes(e);return l||t||o}))}},P=()=>{A.value=1},Q=()=>{A.value=0},q=(e={})=>{E.value=null,G(e.idarticulo)?(E.value="El artículo ya ha sido agregado.",O.value.show=!0,O.value.text=E.value):(L.value.push({idventa:e.idventa,iddetalle_venta:e.idventa,idarticulo:e.idarticulo,codigo:e.codigo,descripcion:e.descripcion,cantidad:1,precio:e.precio_venta,descuento:e.descuento}),X())},G=e=>L.value.some((a=>a.idarticulo===e)),$=e=>{const a={Authorization:"Bearer "+localStorage.getItem("token")},l={headers:a};J.A.delete("api/Ventas/eliminarDetalleVenta/"+e,l).then((e=>{console.log(e),X()})).catch((e=>{console.log(e)}))},H=(e,a)=>{console.log("Arreglo a buscar  ",e);const l=e.findIndex((e=>e.iddetalle_venta===a));-1!==l&&(e.splice(l,1),$(a),X(),I.value=!1)},Y=()=>{const e={Authorization:"Bearer "+localStorage.getItem("token")},a={headers:e};let l="";l=r.value?"api/Ventas/ListarFiltro/texto"+r.value:"api/Ventas/Listar",J.A.get(l,a).then((e=>{t.value=e.data})).catch((e=>{console.log(e)}))},Z=e=>{const a={Authorization:"Bearer "+localStorage.getItem("token")},l={headers:a};J.A.get("api/Ventas/ListarDetalles/"+e,l).then((e=>{L.value=e.data,X()})).catch((e=>{console.log(e)}))},ee=e=>{ae(),console.log("Ver detalles de:",e),p.value=e.idventa,s.value=e.tipo_comprobante,u.value=e.tipo_movimiento,k.value=e.serie_comprobante,b.value=e.num_comprobante,c.value=e.idarticulo,v.value=e.impuesto,Z(e.idventa),g.value=1,D.value=1},ae=()=>{n.value="",c.value="",s.value="",u.value="",k.value="",b.value="",v.value=16,f.value="",L.value=[],S.value=0,N.value=0,R.value=0,D.value=0},le=()=>{if(oe())return;const e={idventa:p.value,idcliente:1009,idusuario:1002,tipo_comprobante:s.value,tipo_movimiento:u.value,serie_comprobante:k.value,num_comprobante:b.value,impuesto:v.value,total:S.value,detalles:L.value},a={Authorization:"Bearer "+localStorage.getItem("token")},l={headers:a};J.A.put("api/Ventas/Actualizar",e,l).then((e=>{z(),Y(),console.log(e)})).catch((e=>{console.log(e)}))},te=()=>{if(oe())return;const e={idcliente:1009,idusuario:1002,tipo_comprobante:s.value,tipo_movimiento:u.value,serie_comprobante:k.value,num_comprobante:b.value,impuesto:v.value,total:S.value,estado:"ACEPTADO",detalles:L.value};J.A.post("api/Ventas/Crear",e).then((e=>{z(),ae(),Y(),console.log(e)})).catch((e=>{console.log(e)}))},oe=()=>(W.value=0,x.value=[],s.value||x.value.push("Seleccione un tipo de comprobante."),u.value||x.value.push("Seleccione un tipo de movimiento."),b.value||x.value.push("Ingrese el número del comprobante."),k.value||x.value.push("Ingrese el número de serie del comprobante."),(!v.value||v.value<0)&&x.value.push("Ingrese un impuesto válido."),x.value.length&&(W.value=1),W.value),ie=(e,a)=>{I.value=!0,w.value=a.iddetalle_venta,U.value=a.idventa,M.value=e},de=()=>{I.value=0},ne=()=>{const e={Authorization:"Bearer "+localStorage.getItem("token")},a={headers:e};J.A.put("api/Ventas/Anular/"+U.value,{},a).then((()=>{I.value=0,M.value=0,w.value="",U.value="",Y()})).catch((e=>{console.log(e)}))};return(0,o.wB)(l,(e=>{e||close()})),(0,o.sV)((()=>{Y(),K(),te(),le()})),{ventas:t,headers:i,cabeceraDetalles:d,detalles:L,search:r,idarticulo:c,tipo_comprobante:s,tipo_movimiento:u,comprobantes:m,tipo_movimientos:h,serie_comprobante:k,num_comprobante:b,detalle:_,idventa:p,impuesto:v,codigo:f,verNuevo:g,errorArticulo:E,totalParcial:R,totalImpuesto:N,total:S,cabeceraArticulos:F,articulos:C,texto:y,verArticulos:A,verDet:D,valida:W,validaMensaje:x,adModal:I,adAccion:M,adNombre:w,adId:U,actualizarTotal:X,mostrarNuevo:B,ocultarNuevo:z,selectArticulo:K,mostrarArticulos:P,ocultarArticulos:Q,agregarDetalle:q,encuentra:G,eliminarDetalle:H,listar:Y,listarDetalles:Z,verDetalles:ee,limpiar:ae,guardar:te,actualizar:le,validar:oe,preguntarBorrarDetalle:ie,activarDesactivarCerrar:de,desactivar:ne,snackbar:O,temporalProveedores:e,temporalArticulos:a,buscarCodigo:T}}};const Pa=(0,g.A)(ja,[["render",Ka]]);var Qa=Pa,Ja=l(396),qa=l(1560),Ga=l(1146);const $a={class:"headline"};function Ha(e,a,l,t,i,d){return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.bMostrarModelo?((0,o.uX)(),(0,o.Wv)(L.Py,{key:0,headers:e.headers,items:e.modelos,search:e.search,"sort-by":[{key:"matricula",order:"asc"}]},{top:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("MODELO AERONAVES")])),_:1}),(0,o.bF)(O.G,{class:"mx-4",inset:"",vertical:""}),(0,o.bF)(B.W,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),(0,o.bF)(s.h),(0,o.bF)(n.D,{class:"ma-2",color:"red",onClick:a[1]||(a[1]=e=>d.crear())},{default:(0,o.k6)((()=>[(0,o.eW)(" NUEVO ")])),_:1}),(0,o.bF)(E.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":a[2]||(a[2]=a=>e.dialogDelete=a),"max-width":"500px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Are you sure you want to delete this item?")])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:e.closeDelete},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:e.deleteItemConfirm},{default:(0,o.k6)((()=>[(0,o.eW)("OK")])),_:1},8,["onClick"]),(0,o.bF)(s.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,o.k6)((({item:a})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:e=>d.editItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,o.bF)(X.w,{size:"small",onClick:l=>e.deleteItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-delete ")])),_:2},1032,["onClick"])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:d.mounted},{default:(0,o.k6)((()=>[(0,o.eW)(" Reset ")])),_:1},8,["onClick"])])),_:2},1032,["headers","items","search"])):(0,o.Q3)("",!0),(0,o.Lk)("div",null,[(0,o.bF)(u.L,{row:"","justify-center":""},{default:(0,o.k6)((()=>[(0,o.bF)(E.p,{modelValue:e.dialog,"onUpdate:modelValue":a[12]||(a[12]=a=>e.dialog=a),"max-width":"700px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",$a,(0,I.v_)(d.formTitle),1)])),_:1}),(0,o.bF)(Ga.i,{class:"mx-auto",width:"600"},{default:(0,o.k6)((()=>[(0,o.bF)(qa.n,null,{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.modelo,"onUpdate:modelValue":a[3]||(a[3]=a=>e.modelo=a),label:"Modelo",rules:e.rules,counter:"",maxlength:"8",hint:"Este campo debe tener máximo 8 caracteres"},null,8,["modelValue","rules"]),(0,o.bF)(B.W,{modelValue:e.descripcion,"onUpdate:modelValue":a[4]||(a[4]=a=>e.descripcion=a),label:"Descripción"},null,8,["modelValue"]),(0,o.bF)(H.d4,{modelValue:e.piston_jet,"onUpdate:modelValue":a[5]||(a[5]=a=>e.piston_jet=a),label:"Piston/Jet",items:e.a_piston_jet},null,8,["modelValue","items"]),(0,o.bF)(B.W,{modelValue:e.fabricante,"onUpdate:modelValue":a[6]||(a[6]=a=>e.fabricante=a),label:"Fabricante"},null,8,["modelValue"]),(0,o.bF)(Ja.A,{modelValue:e.motor_1,"onUpdate:modelValue":a[7]||(a[7]=a=>e.motor_1=a),label:"Motor 1",items:["S","N"]},null,8,["modelValue"]),(0,o.bF)(Ja.A,{modelValue:e.motor_2,"onUpdate:modelValue":a[8]||(a[8]=a=>e.motor_2=a),label:"Motor 2",items:["S","N"]},null,8,["modelValue"]),(0,o.bF)(Ja.A,{modelValue:e.helice_1,"onUpdate:modelValue":a[9]||(a[9]=a=>e.helice_1=a),label:"Helice 1",items:["S","N"]},null,8,["modelValue"]),(0,o.bF)(Ja.A,{modelValue:e.helice_2,"onUpdate:modelValue":a[10]||(a[10]=a=>e.helice_2=a),label:"Helice 2",items:["S","N"]},null,8,["modelValue"]),(0,o.bF)(Ja.A,{modelValue:e.apu,"onUpdate:modelValue":a[11]||(a[11]=a=>e.apu=a),label:"APU",items:["S","N"]},null,8,["modelValue"]),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:d.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{onClick:d.guardarModelo,class:"me-4",type:"submit"},{default:(0,o.k6)((()=>[(0,o.eW)("Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.dlgActDesCat,"onUpdate:modelValue":a[15]||(a[15]=a=>e.dlgActDesCat=a),"max-width":"400",row:"","justify-center":""},{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:a[13]||(a[13]=a=>e.dlgActDesCategoria=!1)},{default:(0,o.k6)((()=>[(0,o.eW)("Cancelar")])),_:1}),(0,o.bF)(n.D,{onClcik:a[14]||(a[14]=a=>e.dlgActDesCategoria=!0)},{default:(0,o.k6)((()=>[(0,o.eW)("Desactivar")])),_:1})])),_:1},8,["modelValue"])])),_:1})])],64)}var Ya={data:()=>({modelo:"",description:"California is a state in the western United States",rules:[e=>e.length<=8||"Max 8 characters"],dialog:!1,bMostrarModelo:!0,bMostrar:!1,modelos:[],search:"",headers:[{title:"Id ",key:"id_modelo"},{title:"Modelo ",key:"modelo"},{title:"Descripción",key:"descripcion"},{title:"Piston/Jet",key:"piston_jet"},{title:"Acciones",key:"actions"}],a_piston_jet:[{title:"PISTON",value:"P"},{title:"JET",value:"J"}],editedItem:{matricula:"",fabricante:"",modelo:""},defaultItem:{matricula:"",fabricante:0,modelo:""}}),computed:{formTitle(){return-1===this.editedIndex?"Nueva registro":"Editar registro"},computedDateFormatted(){return this.formatDate(this.editedItem.inicio_ops)}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()},dialogAeronave(e){e||this.close()}},created(){this.mounted()},methods:{crear(){this.limpiar(),this.dialog=!0,this.editedIndex=-1},muestraDialogo(){this.dialogAeronave=!0},rowClicked(e){this.toggleSelection(e.id),console.log(e.id)},toggleSelection(e){this.selectedRows.includes(e)?this.selectedRows=this.selectedRows.filter((a=>a!==e)):this.selectedRows.push(e)},initialize(){},mounted(){J.A.get("api/ModeloControlador/Listar").then((e=>{this.modelos=e.data}))},listar(){J.A.get("api/ModeloControlador/Listar").then((e=>{this.modelos=e.data}))},editItem(e){this.id_modelo=e.id_modelo,this.modelo=e.modelo,this.descripcion=e.descripcion,this.piston_jet=e.piston_jet,this.fabricante=e.fabricante,this.motor_1=e.motor_1,this.motor_2=e.motor_2,this.helice_1=e.helice_1,this.helice_2=e.helice_2,this.apu=e.apu,this.dialog=!0,this.editedIndex=1},close(){this.bMostrar=0,this.bMostrarModelo=!0,this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},limpiar(){this.id_modelo="",this.modelo="",this.descripcion="",this.piston_jet="",this.fabricante="",this.motor_1="",this.motor_2="",this.helice_1="",this.helice_2="",this.apu="",this.editedIndex=-1},guardarModelo(){if(this.editedIndex>-1){let e=this;this.dialog=!1,this.bMostrar=1,this.bMostrarModelo=!1,J.A.put("api/modelocontrolador/actualizar",{id_modelo:e.id_modelo,modelo:e.modelo,descripcion:e.descripcion,piston_jet:e.piston_jet,motor_1:e.motor_1,motor_2:e.motor_2,helice_1:e.helice_1,helice_2:e.helice_2,apu:e.apu}).then((function(){e.close(),e.listar(),e.limpiar()})).catch((e=>{this.errorMessage=e.message,console.error("Hay un error!",e)}))}else{alert("entro");let e=this;J.A.post("api/modelocontrolador/crear",{modelo:e.modelo,descripcion:e.descripcion,piston_jet:e.piston_jet,motor_1:e.motor_1,motor_2:e.motor_2,helice_1:e.helice_1,helice_2:e.helice_2,apu:e.apu}).then((function(){e.close(),e.listar(),e.limpiar()})).catch((function(e){this.errorMessage=e.message,console.error("Hay un error!",e)}))}}}};const Za=(0,g.A)(Ya,[["render",Ha]]);var el=Za;const al={class:"headline"};function ll(e,a,l,t,i,d){return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.bMostrarModelo?((0,o.uX)(),(0,o.Wv)(L.Py,{key:0,headers:e.headers,items:e.array_aeronaves,search:e.search,"sort-by":[{key:"matricula",order:"asc"}]},{top:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("AERONAVES")])),_:1}),(0,o.bF)(O.G,{class:"mx-4",inset:"",vertical:""}),(0,o.bF)(B.W,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),(0,o.bF)(s.h),(0,o.bF)(n.D,{class:"ma-2",color:"red",onClick:a[1]||(a[1]=e=>d.crear())},{default:(0,o.k6)((()=>[(0,o.eW)(" NUEVO ")])),_:1}),(0,o.bF)(E.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":a[2]||(a[2]=a=>e.dialogDelete=a),"max-width":"500px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Are you sure you want to delete this item?")])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:e.closeDelete},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:e.deleteItemConfirm},{default:(0,o.k6)((()=>[(0,o.eW)("OK")])),_:1},8,["onClick"]),(0,o.bF)(s.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,o.k6)((({item:a})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:e=>d.editItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,o.bF)(X.w,{size:"small",onClick:l=>e.deleteItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-delete ")])),_:2},1032,["onClick"])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:d.mounted},{default:(0,o.k6)((()=>[(0,o.eW)(" Reset ")])),_:1},8,["onClick"])])),_:2},1032,["headers","items","search"])):(0,o.Q3)("",!0),(0,o.Lk)("div",null,[(0,o.bF)(u.L,{row:"","justify-center":""},{default:(0,o.k6)((()=>[(0,o.bF)(E.p,{modelValue:e.dialog,"onUpdate:modelValue":a[9]||(a[9]=a=>e.dialog=a),"max-width":"700px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",al,(0,I.v_)(d.formTitle),1)])),_:1}),(0,o.bF)(Ga.i,{class:"mx-auto",width:"600","grid-list-md":""},{default:(0,o.k6)((()=>[(0,o.bF)(qa.n,null,{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.id_aeronave,"onUpdate:modelValue":a[3]||(a[3]=a=>e.id_aeronave=a),label:"Id Aeronave",disabled:"true"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.matricula,"onUpdate:modelValue":a[4]||(a[4]=a=>e.matricula=a),label:"Matricula"},null,8,["modelValue"]),(0,o.bF)(H.d4,{modelValue:e.id_modelo,"onUpdate:modelValue":a[5]||(a[5]=a=>e.id_modelo=a),label:"Modelos",items:e.modelos_aeronave},null,8,["modelValue","items"]),(0,o.bF)(B.W,{modelValue:e.ns_planeador,"onUpdate:modelValue":a[6]||(a[6]=a=>e.ns_planeador=a),label:"No Serie"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.capitan,"onUpdate:modelValue":a[7]||(a[7]=a=>e.capitan=a),label:"Capitán"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.tel_capitan,"onUpdate:modelValue":a[8]||(a[8]=a=>e.tel_capitan=a),label:"Tel Capitán"},null,8,["modelValue"]),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:d.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{onClick:d.guardarAeronave,class:"me-4",type:"submit"},{default:(0,o.k6)((()=>[(0,o.eW)("Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.dlgActDesCat,"onUpdate:modelValue":a[12]||(a[12]=a=>e.dlgActDesCat=a),"max-width":"400",row:"","justify-center":""},{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:a[10]||(a[10]=a=>e.dlgActDesCategoria=!1)},{default:(0,o.k6)((()=>[(0,o.eW)("Cancelar")])),_:1}),(0,o.bF)(n.D,{onClcik:a[11]||(a[11]=a=>e.dlgActDesCategoria=!1)},{default:(0,o.k6)((()=>[(0,o.eW)("Desactivar")])),_:1})])),_:1},8,["modelValue"])])),_:1})])],64)}var tl={data:()=>({dialog:!1,bMostrarModelo:!0,bMostrar:!1,array_aeronaves:[],modelos_aeronave:[],search:"",id_modelo:0,headers:[{title:"Matricula ",key:"matricula"},{title:"Modelo ",key:"modelo"},{title:"No Serie",key:"ns_planeador"},{title:"Capitán",key:"capitan"},{title:"Acciones",key:"actions"}],a_piston_jet:["P","J"],editedItem:{matricula:"",fabricante:"",id_modelo:0},defaultItem:{matricula:"",fabricante:0,id_modelo:0}}),computed:{formTitle(){return-1===this.editedIndex?"Nueva registro":"Editar registro"},computedDateFormatted(){return this.formatDate(this.editedItem.inicio_ops)}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()},dialogAeronave(e){e||this.close()}},created(){this.mounted()},methods:{crear(){this.limpiar(),this.selectModelos(),this.dialog=!0,this.editedIndex=-1},muestraDialogo(){this.dialogAeronave=!0},rowClicked(e){this.toggleSelection(e.id),console.log(e.id)},toggleSelection(e){this.selectedRows.includes(e)?this.selectedRows=this.selectedRows.filter((a=>a!==e)):this.selectedRows.push(e)},initialize(){},mounted(){J.A.get("api/aeronave/listar").then((e=>{this.array_aeronaves=e.data}))},listar(){J.A.get("api/aeronave/listar").then((e=>{this.array_aeronaves=e.data}))},editItem(e){this.id_modelo=e.id_modelo,this.id_aeronave=e.id_aeronave,this.matricula=e.matricula,this.modelo=e.modelo,this.ns_planeador=e.ns_planeador,this.unidad=e.unidad,this.capitan=e.capitan,this.tel_capitan=e.tel_capitan,this.cliente=e.cliente,this.selectModelos(),this.dialog=!0,this.editedIndex=1},close(){this.bMostrar=0,this.bMostrarModelo=!0,this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},limpiar(){this.id_modelo=0,this.modelo="",this.id_aeronave=0,this.matricula="",this.ns_planeador="",this.unidad="",this.capitan="",this.tel_capitan="",this.Cliente="",this.modelos_aeronave=[],this.editedIndex=-1},guardarAeronave(){if(this.editedIndex>-1){let e=this;this.dialog=!1,J.A.put("api/aeronave/actualizar",{id_modelo:e.id_modelo,id_aeronave:e.id_aeronave,matricula:e.matricula,ns_planeador:e.ns_planeador,unidad:e.unidad,capitan:e.capitan,tel_capitan:e.tel_capitan,cliente:e.cliente}).then((function(){e.close(),e.listar(),e.limpiar()})).catch((e=>{this.errorMessage=e.message,console.error("Hay un error!",e)}))}else{let e=this;J.A.post("api/aeronave/crear",{id_modelo:e.id_modelo,matricula:e.matricula,ns_planeador:e.ns_planeador,unidad:e.unidad,capitan:e.capitan,tel_capitan:e.tel_capitan,cliente:e.cliente}).then((function(){e.close(),e.listar(),e.limpiar()})).catch((function(e){this.errorMessage=e.message,console.error("Hay un error!",e)}))}},selectModelos(){let e=this;var a=[];J.A.get("api/ModeloControlador/Select").then((function(l){a=l.data,a.map((function(a){e.modelos_aeronave.push({title:a.modelo,value:a.id_modelo})}))})).catch((function(e){console.log(e)}))}}};const ol=(0,g.A)(tl,[["render",ll]]);var il=ol;const dl={class:"headline"};function nl(e,a,l,t,i,d){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(L.Py,{headers:e.headers,items:e.array_aeronaves,search:e.search,"sort-by":[{key:"id_programada",order:"codigo"}]},{top:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("REPORTES PROGRAMADOS")])),_:1}),(0,o.bF)(O.G,{class:"mx-4",inset:"",vertical:""}),(0,o.bF)(B.W,{class:"text-xs-center",modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},null,8,["modelValue"]),(0,o.bF)(s.h),(0,o.bF)(n.D,{class:"ma-2",color:"red",onClick:a[1]||(a[1]=e=>d.crear())},{default:(0,o.k6)((()=>[(0,o.eW)(" NUEVO ")])),_:1}),(0,o.bF)(E.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":a[2]||(a[2]=a=>e.dialogDelete=a),"max-width":"500px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Are you sure you want to delete this item?")])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:e.closeDelete},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:e.deleteItemConfirm},{default:(0,o.k6)((()=>[(0,o.eW)("OK")])),_:1},8,["onClick"]),(0,o.bF)(s.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,o.k6)((({item:a})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:e=>d.editItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,o.bF)(X.w,{size:"small",onClick:l=>e.deleteItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-delete ")])),_:2},1032,["onClick"])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:d.mounted},{default:(0,o.k6)((()=>[(0,o.eW)(" Reset ")])),_:1},8,["onClick"])])),_:2},1032,["headers","items","search"]),(0,o.Lk)("div",null,[(0,o.bF)(u.L,{row:"","justify-center":""},{default:(0,o.k6)((()=>[(0,o.bF)(E.p,{modelValue:e.dialog,"onUpdate:modelValue":a[8]||(a[8]=a=>e.dialog=a),"max-width":"700px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",dl,(0,I.v_)(d.formTitle),1)])),_:1}),(0,o.bF)(Ga.i,{class:"mx-auto",width:"600","grid-list-md":""},{default:(0,o.k6)((()=>[(0,o.bF)(qa.n,null,{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.id_programada,"onUpdate:modelValue":a[3]||(a[3]=a=>e.id_programada=a),label:"Id Programada",disabled:"true"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.codigo,"onUpdate:modelValue":a[4]||(a[4]=a=>e.codigo=a),label:"Código"},null,8,["modelValue"]),(0,o.bF)(H.d4,{modelValue:e.id_modelo,"onUpdate:modelValue":a[5]||(a[5]=a=>e.id_modelo=a),label:"Modelos",items:e.modelos_aeronave},null,8,["modelValue","items"]),(0,o.bF)(Y.J,{modelValue:e.descripcion,"onUpdate:modelValue":a[6]||(a[6]=a=>e.descripcion=a),label:"Descripción"},null,8,["modelValue"]),(0,o.bF)(Y.J,{modelValue:e.accion,"onUpdate:modelValue":a[7]||(a[7]=a=>e.accion=a),label:"Acción"},null,8,["modelValue"]),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:d.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{onClick:d.guardarProgramadas,class:"me-4",type:"submit"},{default:(0,o.k6)((()=>[(0,o.eW)("Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.dlgActDesCat,"onUpdate:modelValue":a[11]||(a[11]=a=>e.dlgActDesCat=a),"max-width":"400",row:"","justify-center":""},{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:a[9]||(a[9]=a=>e.dlgActDesCategoria=!1)},{default:(0,o.k6)((()=>[(0,o.eW)("Cancelar")])),_:1}),(0,o.bF)(n.D,{onClcik:a[10]||(a[10]=a=>e.dlgActDesCategoria=!1)},{default:(0,o.k6)((()=>[(0,o.eW)("Desactivar")])),_:1})])),_:1},8,["modelValue"])])),_:1})])],64)}var rl={data:()=>({dialog:!1,bMostrarModelo:!0,bMostrar:!1,array_aeronaves:[],modelos_aeronave:[],search:"",id_modelo:0,headers:[{title:"Código ",key:"codigo"},{title:"Descripción ",key:"descripcion"},{title:"Modelo ",key:"modelo"},{title:"Acción ",key:"accion"},{title:"Acción",key:"actions"}],editedItem:{matricula:"",fabricante:"",id_modelo:0},defaultItem:{matricula:"",fabricante:0,id_modelo:0}}),computed:{formTitle(){return-1===this.editedIndex?"Nueva registro":"Editar registro"},computedDateFormatted(){return this.formatDate(this.editedItem.inicio_ops)}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()},dialogAeronave(e){e||this.close()}},created(){this.mounted()},methods:{crear(){this.limpiar(),this.selectModelos(),this.dialog=!0,this.editedIndex=-1},muestraDialogo(){this.dialogAeronave=!0},rowClicked(e){this.toggleSelection(e.id)},toggleSelection(e){this.selectedRows.includes(e)?this.selectedRows=this.selectedRows.filter((a=>a!==e)):this.selectedRows.push(e)},initialize(){},mounted(){J.A.get("api/programada/listar").then((e=>{this.array_aeronaves=e.data})).catch((function(e){this.errorMessage=e.message,console.error("Hay un error!",e)}))},listar(){J.A.get("api/programada/listar").then((e=>{this.array_aeronaves=e.data})).catch((function(e){this.errorMessage=e.message,console.error("Hay un error!",e)}))},editItem(e){this.id_programada=e.id_programada,this.codigo=e.codigo,this.id_modelo=e.id_modelo,this.descripcion=e.descripcion,this.accion=e.accion,this.selectModelos(),this.dialog=!0,this.editedIndex=1},close(){this.bMostrar=0,this.bMostrarModelo=!0,this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},limpiar(){this.id_programada=0,this.codigo="",this.descripcion=0,this.accion="",this.editedIndex=-1},guardarProgramadas(){if(this.editedIndex>-1){let e=this;this.dialog=!1,J.A.put("api/programada/actualizar",{id_programada:e.id_programada,codigo:e.codigo,id_modelo:e.id_modelo,descripcion:e.descripcion,accion:e.accion}).then((function(){e.close(),e.listar(),e.limpiar()})).catch((e=>{this.errorMessage=e.message,console.error("Hay un error!",e)}))}else{let e=this;J.A.post("api/programada/crear",{id_modelo:e.id_modelo,codigo:e.codigo,descripcion:e.descripcion,accion:e.accion}).then((function(){e.close(),e.listar(),e.limpiar()})).catch((function(e){this.errorMessage=e.message,console.error("Hay un error!",e)}))}},selectModelos(){let e=this;var a=[];J.A.get("api/ModeloControlador/Select").then((function(l){a=l.data,a.map((function(a){e.modelos_aeronave.push({title:a.modelo,value:a.id_modelo})}))})).catch((function(e){console.log(e)}))}}};const cl=(0,g.A)(rl,[["render",nl]]);var sl=cl,ul=l(1971),ml=l(9938);const hl={class:"headline"};function kl(e,a,l,t,i,d){const c=(0,o.g2)("v-flex"),m=(0,o.g2)("v-template");return(0,o.uX)(),(0,o.Wv)(c,{xs12:"",sm6:"",md4:""},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,{class:"justify-center",width:"1500"},{default:(0,o.k6)((()=>[e.bMostrarOTs?((0,o.uX)(),(0,o.Wv)(ul.g,{key:0,headers:e.headers,items:e.array_ots,search:e.search,"sort-by":[{key:"id_ot",order:"asc"}]},{top:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("CARATURA DE LA ORDEN DE TRABAJO")])),_:1}),(0,o.bF)(O.G,{class:"mx-4",inset:"",vertical:""}),(0,o.bF)(B.W,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),(0,o.bF)(s.h),(0,o.bF)(n.D,{class:"ma-2",color:"red",onClick:a[1]||(a[1]=e=>d.crear())},{default:(0,o.k6)((()=>[(0,o.eW)(" NUEVO ")])),_:1}),(0,o.bF)(E.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":a[2]||(a[2]=a=>e.dialogDelete=a),"max-width":"500px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Are you sure you want to delete this item?")])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:e.closeDelete},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:e.deleteItemConfirm},{default:(0,o.k6)((()=>[(0,o.eW)("OK")])),_:1},8,["onClick"]),(0,o.bF)(s.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,o.k6)((({item:a})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:e=>d.editItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,o.bF)(X.w,{size:"small",onClick:l=>e.deleteItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-delete ")])),_:2},1032,["onClick"])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:d.mounted},{default:(0,o.k6)((()=>[(0,o.eW)(" Reset ")])),_:1},8,["onClick"])])),_:2},1032,["headers","items","search"])):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(u.L,{row:"","justify-center":""},{default:(0,o.k6)((()=>[e.bMostrarDetalle?((0,o.uX)(),(0,o.Wv)(m,{key:0,modelValue:e.dialog,"onUpdate:modelValue":a[22]||(a[22]=a=>e.dialog=a)},{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",hl,(0,I.v_)(d.formTitle),1)])),_:1}),(0,o.bF)(Ga.i,{class:"mx-auto",width:"1500"},{default:(0,o.k6)((()=>[(0,o.bF)(qa.n,{xs12:"",sm6:"",md4:""},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.id_ot,"onUpdate:modelValue":a[3]||(a[3]=a=>e.id_ot=a),label:"OT",disabled:"true"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:e.id_aeronave,"onUpdate:modelValue":[a[4]||(a[4]=a=>e.id_aeronave=a),a[5]||(a[5]=a=>d.seleccionMatricula(e.id_aeronave))],label:"Matricula",items:e.array_aeronaves},null,8,["modelValue","items"])])),_:1}),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.Q3)("",!0),(0,o.bF)(B.W,{modelValue:e.modelo,"onUpdate:modelValue":a[7]||(a[7]=a=>e.modelo=a),label:"Modelo",disabled:"true"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(H.d4,{modelValue:e.id_cliente,"onUpdate:modelValue":a[8]||(a[8]=a=>e.id_cliente=a),label:"Compañia",items:e.array_clientes},null,8,["modelValue","items"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.contacto,"onUpdate:modelValue":a[9]||(a[9]=a=>e.contacto=a),label:"Contacto"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.telefono,"onUpdate:modelValue":a[10]||(a[10]=a=>e.telefono=a),label:"Teléfono"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.correo,"onUpdate:modelValue":a[11]||(a[11]=a=>e.correo=a),label:"Correo"},null,8,["modelValue"])])),_:1})])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.direccion,"onUpdate:modelValue":a[12]||(a[12]=a=>e.direccion=a),label:"Dirección"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.ciudad,"onUpdate:modelValue":a[13]||(a[13]=a=>e.ciudad=a),label:"Ciudad"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.estado,"onUpdate:modelValue":a[14]||(a[14]=a=>e.estado=a),label:"Estado"},null,8,["modelValue"])])),_:1}),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(ml.Q,{class:"ms-4",icon:"mdi-plus",location:"bottom end",size:"small",onClick:a[15]||(a[15]=e=>d.selectProgramadas())})])),_:1})])),_:1}),(0,o.bF)(r.J,{width:"100%"},{default:(0,o.k6)((()=>[(0,o.bF)(ul.g,{headers:e.head_proragamdas_det,items:e.detalles,"onClick:row":d.rowClick},{["item.actions"]:(0,o.k6)((({item:a})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:e=>d.editItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,o.bF)(X.w,{size:"small",onClick:l=>e.deleteItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-delete ")])),_:2},1032,["onClick"])])),_:2},1032,["headers","items","onClick:row"])])),_:1}),(0,o.bF)(N.L,null,{default:(0,o.k6)((()=>[(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:d.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{onClick:d.guardarOts,class:"me-4",type:"submit"},{default:(0,o.k6)((()=>[(0,o.eW)("Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),e.bMostrarDetProg?((0,o.uX)(),(0,o.Wv)(E.p,{key:0,modelValue:e.dialogDetProg,"onUpdate:modelValue":a[21]||(a[21]=a=>e.dialogDetProg=a),"max-width":"800px","dialog-margin":"24px"},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Editar tarea programada")])),_:1}),(0,o.bF)(B.W,{modelValue:e.id_detalle,"onUpdate:modelValue":a[16]||(a[16]=a=>e.id_detalle=a),label:"Id detalle"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.id_programada,"onUpdate:modelValue":a[17]||(a[17]=a=>e.id_programada=a),label:"Id programada"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.codigo,"onUpdate:modelValue":a[18]||(a[18]=a=>e.codigo=a),label:"Código"},null,8,["modelValue"]),(0,o.bF)(Y.J,{modelValue:e.descripcion,"onUpdate:modelValue":a[19]||(a[19]=a=>e.descripcion=a),label:"Descripción"},null,8,["modelValue"]),(0,o.bF)(Y.J,{modelValue:e.accion,"onUpdate:modelValue":a[20]||(a[20]=a=>e.accion=a),label:"Acción"},null,8,["modelValue"]),(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:d.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{onClick:d.guardarProg_en_Ot,class:"me-4",type:"submit"},{default:(0,o.k6)((()=>[(0,o.eW)("Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])):(0,o.Q3)("",!0)])),_:1},8,["modelValue"])):(0,o.Q3)("",!0)])),_:1})])),_:1}),(0,o.bF)(E.p,{"max-width":"1200",modelValue:e.bMostrarProgramadas,"onUpdate:modelValue":a[23]||(a[23]=a=>e.bMostrarProgramadas=a)},{default:(0,o.k6)((({isActive:a})=>[(0,o.bF)(r.J,{title:"Tareas programadas por modelo de aeronave"},{default:(0,o.k6)((()=>[(0,o.bF)(ul.g,{headers:e.head_proragamdas,items:e.array_programadas,height:"400","item-value":"name"},{["item.action_add"]:(0,o.k6)((({item:e})=>[(0,o.bF)(n.D,{onClick:a=>d.agregarDetalle(e)},{default:(0,o.k6)((()=>[(0,o.eW)(" + ")])),_:2},1032,["onClick"])])),_:2},1032,["headers","items"]),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{text:"Close Dialog",onClick:e=>a.value=!1},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})}var bl={data:()=>({bMostrarProgramadas:!1,dialog:!1,bMostrarOTs:!0,bMostrarDetalle:!1,bMostrarDetProg:!1,array_aeronaves:[],array_ots:[],array_modelos:[],array_clientes:[],array_programadas:[],detalles:[],search:"",id_ot:0,id_aeronave:0,modelo:"",id_cliente:0,contacto:"",direccion:"",ciudad:"",estado:"",correo:"",telefono:"",headers:[{title:"OT ",key:"id_ot"},{title:"Aeronave ",key:"matricula"},{title:"Modelo ",key:"modelo"},{title:"Contacto ",key:"contacto"},{title:"Teléfono  ",key:"telefono"},{title:"Correo",key:"correo"},{title:"Acciones",key:"actions"}],head_proragamdas:[{title:"Id modelo ",key:"id_modelo"},{title:"Modelo ",key:"modelo"},{title:"Descripción ",key:"descripcion"},{title:"Acción ",key:"accion"},{title:"Agregar",key:"action_add"}],head_proragamdas_det:[{title:"Id programada ",key:"id_programada"},{title:"Modelo ",key:"codigo"},{title:"Descripción ",key:"descripcion"},{title:"Acción ",key:"accion"},{title:"Acciones ",key:"actions_programadas"}]}),computed:{formTitle(){return-1===this.editedIndex?"Nueva registro":"Editar registro"},computedDateFormatted(){return this.formatDate(this.editedItem.inicio_ops)}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()},dialogAeronave(e){e||this.close()}},created(){this.mounted()},methods:{rowClick(e,a){console.log(a.item.id_programada),(0,J.A)("api/partes").then()},crear(){this.limpiar(),this.selectAeronaves(),this.selectClientes(),this.dialog=!0,this.bMostrarDetalle=!0,this.bMostrarOTs=!1,this.editedIndex=-1},muestraDialogo(){this.dialogAeronave=!0},rowClicked(e){this.toggleSelection(e.id),console.log(e.id)},toggleSelection(e){this.selectedRows.includes(e)?this.selectedRows=this.selectedRows.filter((a=>a!==e)):this.selectedRows.push(e)},seleccionMatricula(e){let a=this;a.detalles=[],J.A.get("api/aeronave/regresamodelo/"+e).then((e=>{this.array_ots=e.data,this.modelo=e.data[0].modelo}))},agregarDetalle(e=[]){this.errorArticulo=null,this.encuentra(e["id_programada"])?this.errorArticulo="El tarea programada ya ha sido agregado.":this.detalles.push({id_detalle:e["id_detalle"],id_programada:e["id_programada"],codigo:e["codigo"],descripcion:e["descripcion"]})},encuentra(e){for(var a=0,l=0;l<this.detalles.length;l++)this.detalles[l].id_programada==e&&(a=1);return a},mounted(){J.A.get("api/ordentrabajo/listar").then((e=>{this.array_ots=e.data}))},listar(){J.A.get("api/ordentrabajo/listar").then((e=>{this.array_ots=e.data}))},editItem(e){this.id_ot=e.id_ot,this.id_aeronave=e.id_aeronave,this.id_modelo=e.id_modelo,this.modelo=e.modelo,this.id_cliente=e.id_cliente,this.contacto=e.contacto,this.telefono=e.telefono,this.correo=e.correo,this.direccion=e.direccion,this.estado=e.estado,this.ciudad=e.ciudad,this.listarDetalles(e.id_ot),this.selectAeronaves(),this.selectClientes(),this.dialog=!0,this.bMostrarDetalle=!0,this.bMostrarOTs=!1,this.editedIndex=1},editItem_programadas(e){this.id_detalle=e.id_detalle,this.id_programada=e.id_programada,this.id_modelo=e.id_modelo,this.codigo=e.codigo,this.descripcion=e.descripcion,this.dialogDetProg=!0,this.bMostrarDetProg=!0,this.bMostrarOTs=!1,this.editedIndex=1},guardarProg_en_Ot(){let e=this;J.A.put("api/ordentrabajo/actualizar_programada",{id_detalle:e.id_detalle,id_ot:e.id_ot,id_programada:e.id_programada,codigo:e.codigo,descripcion:e.descripcion,accion:e.accion}).then((function(){e.listar(),e.close(),e.limpiar()})).catch((e=>{this.errorMessage=e.message,console.error("Hay un error!",e)}))},close(){this.bMostrar=0,this.bMostrarOTs=!0,this.dialog=!1,this.bMostrarDetalle=!1,this.bMostrarOTs=!0,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},limpiar(){this.id_ot=0,this.id_aeronave=0,this.modelo="",this.id_modelo=0,this.id_cliente=0,this.contacto="",this.direccion="",this.ciudad="",this.estado="",this.telefono="",this.correo="",this.detalles=[],this.array_clientes=[],this.array_aeronaves=[]},guardarOts(){if(this.editedIndex>-1){let e=this;this.dialog=!1,J.A.put("api/ordentrabajo/actualizar/",{id_ot:e.id_ot,id_aeronave:e.id_aeronave,modelo:e.id_modelo,id_cliente:e.id_cliente,contacto:e.contacto,telefono:e.telefono,correo:e.correo,direccion:e.direccion,estado:e.estado,ciudad:e.ciudad,detalles:e.detalles}).then((function(){e.listar(),e.close(),e.limpiar()})).catch((e=>{this.errorMessage=e.message,console.error("Hay un error!",e)}))}else{let e=this;J.A.post("api/ordentrabajo/crear",{id_aeronave:e.id_aeronave,id_modelo:e.id_modelo,id_cliente:e.id_cliente,contacto:e.contacto,telefono:e.telefono,correo:e.correo,direccion:e.direccion,estado:e.estado,ciudad:e.ciudad,detalles:e.detalles}).then((function(){e.close(),e.listar(),e.limpiar()})).catch((function(e){this.errorMessage=e.message,console.error("Hay un error!",e)}))}},listarDetalles(e){let a=this;J.A.get("api/ordentrabajo/ListarDetalles/"+e).then((function(e){a.detalles=e.data})).catch((function(e){console.log(e)}))},selectModelo(){J.A.get("api/modelocontrolador/select").then((e=>{this.array_modelos=e.data}))},selectClientes(){let e=this;var a=[];J.A.get("api/cliente/Select").then((function(l){a=l.data,a.map((function(a){e.array_clientes.push({title:a.nombre,value:a.id_cliente})}))})).catch((function(e){console.log(e)}))},selectAeronaves(){let e=this;var a=[];e.array_aeronaves=[],J.A.get("api/Aeronave/Select").then((function(l){a=l.data,a.map((function(a){e.array_aeronaves.push({title:a.matricula,value:a.id_aeronave})}))})).catch((function(e){console.log(e)}))},selectProgramadas(){this.bMostrarProgramadas=!0,J.A.get("api/programada/listar_x_modelo/"+this.modelo).then((e=>{this.array_programadas=e.data}))}}};const pl=(0,g.A)(bl,[["render",kl]]);var vl=pl;const _l={class:"headline"};function fl(e,a,l,t,i,d){return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.bMostrarModelo?((0,o.uX)(),(0,o.Wv)(L.Py,{key:0,headers:e.headers,items:e.array_clientes,search:e.search,"sort-by":[{key:"id_cliente",order:"asc"}]},{top:(0,o.k6)((()=>[(0,o.bF)(z.u,{flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(v.s,null,{default:(0,o.k6)((()=>[(0,o.eW)("CLIENTES")])),_:1}),(0,o.bF)(O.G,{class:"mx-4",inset:"",vertical:""}),(0,o.bF)(B.W,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),(0,o.bF)(s.h),(0,o.bF)(n.D,{class:"ma-2",color:"red",onClick:a[1]||(a[1]=e=>d.crear())},{default:(0,o.k6)((()=>[(0,o.eW)(" NUEVO ")])),_:1}),(0,o.bF)(E.p,{modelValue:e.dialogDelete,"onUpdate:modelValue":a[2]||(a[2]=a=>e.dialogDelete=a),"max-width":"500px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)("Are you sure you want to delete this item?")])),_:1}),(0,o.bF)(w.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(s.h),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:e.closeDelete},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{color:"blue-darken-1",variant:"text",onClick:e.deleteItemConfirm},{default:(0,o.k6)((()=>[(0,o.eW)("OK")])),_:1},8,["onClick"]),(0,o.bF)(s.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,o.k6)((({item:a})=>[(0,o.bF)(X.w,{class:"me-2",size:"small",onClick:e=>d.editItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,o.bF)(X.w,{size:"small",onClick:l=>e.deleteItem(a)},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-delete ")])),_:2},1032,["onClick"])])),"no-data":(0,o.k6)((()=>[(0,o.bF)(n.D,{color:"primary",onClick:d.mounted},{default:(0,o.k6)((()=>[(0,o.eW)(" Reset ")])),_:1},8,["onClick"])])),_:2},1032,["headers","items","search"])):(0,o.Q3)("",!0),(0,o.Lk)("div",null,[(0,o.bF)(u.L,{row:"","justify-center":""},{default:(0,o.k6)((()=>[(0,o.bF)(E.p,{modelValue:e.dialog,"onUpdate:modelValue":a[16]||(a[16]=a=>e.dialog=a),"max-width":"700px"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",_l,(0,I.v_)(d.formTitle),1)])),_:1}),(0,o.bF)(Ga.i,{class:"mx-auto",width:"600","grid-list-md":""},{default:(0,o.k6)((()=>[(0,o.bF)(qa.n,null,{default:(0,o.k6)((()=>[(0,o.bF)(B.W,{modelValue:e.id_cliente,"onUpdate:modelValue":a[3]||(a[3]=a=>e.id_cliente=a),label:"Cliente",disabled:"true"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.nombre,"onUpdate:modelValue":a[4]||(a[4]=a=>e.nombre=a),label:"Compañia"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.rfc,"onUpdate:modelValue":a[5]||(a[5]=a=>e.rfc=a),label:"RFC"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.atencion_a,"onUpdate:modelValue":a[6]||(a[6]=a=>e.atencion_a=a),label:"Atención"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.calle_y_numero,"onUpdate:modelValue":a[7]||(a[7]=a=>e.calle_y_numero=a),label:"Dirección"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.colonia,"onUpdate:modelValue":a[8]||(a[8]=a=>e.colonia=a),label:"Colonia"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.ciudad,"onUpdate:modelValue":a[9]||(a[9]=a=>e.ciudad=a),label:"Ciudad"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.estado,"onUpdate:modelValue":a[10]||(a[10]=a=>e.estado=a),label:"Estado"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.pais,"onUpdate:modelValue":a[11]||(a[11]=a=>e.pais=a),label:"pais"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.cp,"onUpdate:modelValue":a[12]||(a[12]=a=>e.cp=a),label:"Código Postal"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.telefono_1,"onUpdate:modelValue":a[13]||(a[13]=a=>e.telefono_1=a),label:"Telefono 1"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.telefono_2,"onUpdate:modelValue":a[14]||(a[14]=a=>e.telefono_2=a),label:"Telefono 2"},null,8,["modelValue"]),(0,o.bF)(B.W,{modelValue:e.email,"onUpdate:modelValue":a[15]||(a[15]=a=>e.email=a),label:"Correo"},null,8,["modelValue"]),(0,o.bF)(S.B,null,{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:d.close},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,o.bF)(n.D,{onClick:d.guardarAeronave,class:"me-4",type:"submit"},{default:(0,o.k6)((()=>[(0,o.eW)("Guardar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(E.p,{modelValue:e.dlgActDesCat,"onUpdate:modelValue":a[19]||(a[19]=a=>e.dlgActDesCat=a),"max-width":"400",row:"","justify-center":""},{default:(0,o.k6)((()=>[(0,o.bF)(n.D,{onClick:a[17]||(a[17]=a=>e.dlgActDesCategoria=!1)},{default:(0,o.k6)((()=>[(0,o.eW)("Cancelar")])),_:1}),(0,o.bF)(n.D,{onClcik:a[18]||(a[18]=a=>e.dlgActDesCategoria=!0)},{default:(0,o.k6)((()=>[(0,o.eW)("Desactivar")])),_:1})])),_:1},8,["modelValue"])])),_:1})])],64)}var gl={data:()=>({dialog:!1,bMostrarModelo:!0,bMostrar:!1,array_clientes:[],id_modelo:0,search:"",headers:[{title:"Compañia ",key:"nombre"},{title:"RFC ",key:"rfc"},{title:"No Atención",key:"atencion_a"},{title:"Dirección",key:"calle_y_numero"},{title:"Estado",key:"estado"},{title:"Acciones",key:"actions"}],a_piston_jet:["P","J"],editedItem:{matricula:"",fabricante:"",id_modelo:0},defaultItem:{matricula:"",fabricante:0,id_modelo:0}}),computed:{formTitle(){return-1===this.editedIndex?"Nueva registro":"Editar registro"},computedDateFormatted(){return this.formatDate(this.editedItem.inicio_ops)}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()},dialogAeronave(e){e||this.close()}},created(){this.mounted()},methods:{crear(){this.limpiar(),this.dialog=!0,this.editedIndex=-1},muestraDialogo(){this.dialogAeronave=!0},rowClicked(e){this.toggleSelection(e.id)},toggleSelection(e){this.selectedRows.includes(e)?this.selectedRows=this.selectedRows.filter((a=>a!==e)):this.selectedRows.push(e)},initialize(){},mounted(){J.A.get("api/cliente/listar").then((e=>{this.array_clientes=e.data}))},listar(){J.A.get("api/cliente/listar").then((e=>{this.array_clientes=e.data,console.log(this.array_clientes)}))},editItem(e){this.id_cliente=e.id_cliente,this.nombre=e.nombre,this.rfc=e.rfc,this.atencion_a=e.atencion_a,this.calle_y_numero=e.calle_y_numero,this.colonia=e.colonia,this.ciudad=e.ciudad,this.estado=e.estado,this.pais=e.pais,this.cp=e.cp,this.telefono_1=e.telefono_1,this.telefono_2=e.telefono_2,this.email=e.email,this.curp=e.curp,this.dialog=!0,this.editedIndex=1},close(){this.bMostrar=0,this.bMostrarModelo=!0,this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},limpiar(){this.id_cliente=0,this.nombre="",this.rfc="",this.atencion_a="",this.calle_y_numero="",this.colonia="",this.ciudad="",this.estado="",this.pais="",this.cp="",this.telefono_1="",this.telefono_2="",this.email="",this.curp="",this.editedIndex=-1},guardarAeronave(){if(this.editedIndex>-1){let e=this;this.dialog=!1,J.A.put("api/cliente/actualizar",{id_cliente:e.id_cliente,nombre:e.nombre,rfc:e.rfc,atencion_a:e.atencion_a,calle_y_numero:e.calle_y_numero,colonia:e.colonia,ciudad:e.ciudad,estado:e.estado,pais:e.pais,cp:e.cp,telefono_1:e.telefono_1,telefono_2:e.telefono_2,email:e.email,curp:e.curp}).then((function(){e.close(),e.listar(),e.limpiar()})).catch((e=>{this.errorMessage=e.message,console.error("Hay un error!",e)}))}else{let e=this;J.A.post("api/cliente/crear",{id_cliente:e.id_cliente,nombre:e.nombre,rfc:e.rfc,atencion_a:e.atencion_a,calle_y_numero:e.calle_y_numero,colonia:e.colonia,ciudad:e.ciudad,estado:e.estado,pais:e.pais,cp:e.cp,telefono_1:e.telefono_1,telefono_2:e.telefono_2,email:e.email,curp:e.curp}).then((function(){e.close(),e.listar(),e.limpiar()})).catch((function(e){this.errorMessage=e.message,console.error("Hay un error!",e)}))}},selectClientes(){let e=this;var a=[];J.A.get("api/cliente/Select").then((function(l){a=l.data,a.map((function(a){e.array_clientes.push({title:a.nombre,value:a.id_cliente})}))})).catch((function(e){console.log(e)}))}}};const Fl=(0,g.A)(gl,[["render",fl]]);var Cl=Fl;const Vl=[{path:"/",name:"home",component:ke},{path:"/almacenes",name:"almacenes",component:Me},{path:"/ubicaciones",name:"ubicaciones",component:Qe},{path:"/categorias",name:"categorias",component:$},{path:"/unidadMedidas",name:"unidadMedidas",component:Ce},{path:"/articulos",name:"articulos",component:de},{path:"/proveedores",name:"proveedores",component:Se},{path:"/compras",name:"compras",component:Fa},{path:"/ventas",name:"ventas",component:Qa},{path:"/Ot_modelo",name:"Ot_modelo",component:el},{path:"/Ot_aeronave",name:"Ot_aeronave",component:il},{path:"/Ot_programada",name:"Ot_programada",component:sl},{path:"/Ot_cliente",name:"Ot_cliente",component:Cl},{path:"/Ot_encabezado_ot",name:"Ot_encabezado_ot",component:vl}],yl=(0,x.aE)({history:(0,x.Bt)(),routes:Vl});var Al=yl;W(),J.A.defaults.baseURL="http://localhost:63036/",(0,t.Ef)(C).use(Al).use(D).mount("#app")},3153:function(e,a,l){e.exports=l.p+"img/logo.2c8d9e6e.png"}},a={};function l(t){var o=a[t];if(void 0!==o)return o.exports;var i=a[t]={exports:{}};return e[t].call(i.exports,i,i.exports,l),i.exports}l.m=e,function(){var e=[];l.O=function(a,t,o,i){if(!t){var d=1/0;for(s=0;s<e.length;s++){t=e[s][0],o=e[s][1],i=e[s][2];for(var n=!0,r=0;r<t.length;r++)(!1&i||d>=i)&&Object.keys(l.O).every((function(e){return l.O[e](t[r])}))?t.splice(r--,1):(n=!1,i<d&&(d=i));if(n){e.splice(s--,1);var c=o();void 0!==c&&(a=c)}}return a}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[t,o,i]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){var e,a=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};l.t=function(t,o){if(1&o&&(t=this(t)),8&o)return t;if("object"===typeof t&&t){if(4&o&&t.__esModule)return t;if(16&o&&"function"===typeof t.then)return t}var i=Object.create(null);l.r(i);var d={};e=e||[null,a({}),a([]),a(a)];for(var n=2&o&&t;"object"==typeof n&&!~e.indexOf(n);n=a(n))Object.getOwnPropertyNames(n).forEach((function(e){d[e]=function(){return t[e]}}));return d["default"]=function(){return t},l.d(i,d),i}}(),function(){l.d=function(e,a){for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(a,t){return l.f[t](e,a),a}),[]))}}(),function(){l.u=function(e){return"js/webfontloader.1b0992c4.js"}}(),function(){l.miniCssF=function(e){}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={},a="sistema:";l.l=function(t,o,i,d){if(e[t])e[t].push(o);else{var n,r;if(void 0!==i)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var u=c[s];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==a+i){n=u;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,l.nc&&n.setAttribute("nonce",l.nc),n.setAttribute("data-webpack",a+i),n.src=t),e[t]=[o];var m=function(a,l){n.onerror=n.onload=null,clearTimeout(h);var o=e[t];if(delete e[t],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((function(e){return e(l)})),a)return a(l)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),r&&document.head.appendChild(n)}}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/"}(),function(){var e={524:0};l.f.j=function(a,t){var o=l.o(e,a)?e[a]:void 0;if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(l,t){o=e[a]=[l,t]}));t.push(o[2]=i);var d=l.p+l.u(a),n=new Error,r=function(t){if(l.o(e,a)&&(o=e[a],0!==o&&(e[a]=void 0),o)){var i=t&&("load"===t.type?"missing":t.type),d=t&&t.target&&t.target.src;n.message="Loading chunk "+a+" failed.\n("+i+": "+d+")",n.name="ChunkLoadError",n.type=i,n.request=d,o[1](n)}};l.l(d,r,"chunk-"+a,a)}},l.O.j=function(a){return 0===e[a]};var a=function(a,t){var o,i,d=t[0],n=t[1],r=t[2],c=0;if(d.some((function(a){return 0!==e[a]}))){for(o in n)l.o(n,o)&&(l.m[o]=n[o]);if(r)var s=r(l)}for(a&&a(t);c<d.length;c++)i=d[c],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(s)},t=self["webpackChunksistema"]=self["webpackChunksistema"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=l.O(void 0,[504],(function(){return l(5336)}));t=l.O(t)})();
//# sourceMappingURL=app.20445cfa.js.map